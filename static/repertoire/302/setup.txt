

  ////////////////////////////////////////
  //
  // INDEX

  // plugin.tx_browser_pi1
  //    views
  //      302: Repertoire bat



  ////////////////////////////////////////
  //
  // plugin.tx_browser_pi1

plugin.tx_browser_pi1 {
  
  template {
    extensions {
      org {
        repertoire {
          name      = Org: Repertoire bat
          file      = EXT:org/res/html/repertoire/302/default.tmpl
          csvViews  = 302
        }
      }
    }
  }

  general_stdWrap >

  views {
    list {
      302 = Repertoire bat
      302 {
        name    = Repertoire bat
        displayList < plugin.tx_browser_pi1.displayList
        displayList {
          selectBox_orderBy.display = 0
        } 
        showUid = repertoireUid
        select (
          tx_org_repertoire.title,
          tx_org_repertoire.subtitle,
          tx_org_repertoire.short,
          tx_org_repertoire.bodytext,
          tx_org_repertoire.producer,
          tx_org_repertoire.image,
          tx_org_repertoire.imageseo
        )
        csvLinkToSingleView = tx_org_repertoire.title
        tx_org_repertoire {
          producer = TEXT
          producer {
            if.isTrue = by ###TX_ORG_REPERTOIRE.PRODUCER###
            value     = von ###TX_ORG_REPERTOIRE.PRODUCER###
            wrap      = <p><span class="orange_bold">|</span></p>
          }
          short = COA
          short {
            10 = TEXT
            10 {
              if.isTrue = ###TX_ORG_REPERTOIRE.SHORT###
              value     = ###TX_ORG_REPERTOIRE.SHORT###
              wrap      = <p>|</p>
            }
            20 = TEXT
            20 {
              if.isFalse  = ###TX_ORG_REPERTOIRE.SHORT###
              value       = ###TX_ORG_REPERTOIRE.BODYTEXT###
              wrap        = <p>|</p>
              crop        = 300 | ... | 1 |
              stripHtml   = 1
            }
          }
          subtitle = TEXT
          subtitle {
            if.isTrue = ###TX_ORG_REPERTOIRE.SUBTITLE###
            value     = ###TX_ORG_REPERTOIRE.SUBTITLE###
            wrap      = <h3>|</h3>
          }
        }
        filter {
          tx_org_cal {
            datetime < plugin.tx_browser_pi1.displayList.master_templates.selectbox
            datetime {
              area < plugin.tx_browser_pi1.displayList.master_templates.areas.sample_period
              first_item {
                stdWrap {
                  data = LLL:EXT:org/locallang_db.xml:filter_phrase.part_of_schedule
                }
              }
              wrap = <span class="selectbox">|</span>
              wrap {
                item {
                  display_without_any_hit = 0
                  display_hits            = 0
                  stdWrap {
                    htmlSpecialChars = 0
                    crop >
                    strftime = %a, %m.%d.%y %H:%M
                  }
                }
              }
              order.field = uid
            }
          }
        }
      }
    }
    single {
      302 = Repertoire bat
      302 {
        displaySingle < plugin.tx_browser_pi1.displaySingle
        displaySingle {
          image {
            file = {$base_batBerlin.path.alternate_image}
            file >
            file {
              maxW = 160
              maxH >
            }
          }
        }
        advanced < plugin.tx_browser_pi1.advanced
        advanced {
          sql.devider.childrenRecords.value = 
          sql.devider.childrenRecords.noTrimWrap >
        }
        marker < plugin.tx_browser_pi1.marker
        marker {
          my_listview_page = TEXT
          my_listview_page {
            value = All Repertoire &raquo;
            lang.de = Alle St&uuml;cke &raquo;
            typolink {
              parameter = {$plugin.org.pages.repertoire}
              title {
                value = All Repertoire
                lang.de = Alle Repertoire und St&uuml;cke der HfS
              }
            }
          }
          my_singleview_title = TEXT
          my_singleview_title {
            value   = Repertoire
            lang.de = Repertoire
            wrap    = <div class="header01">|</div>
          }
          my_datetime = COA
          my_datetime {
            comment (
              if the current unixtime isGreaterThan tx_org_cal.datetime
              if     {$value}               >         {$isGreaterThan}
            )
            if {
              value {
                data = date:U
              }
              isGreaterThan = ###TX_ORG_CAL.DATETIME###
            }
            12 = TEXT
            12 {
              value = TRUE: ###TX_ORG_CAL.DATETIME### isGreaterThan {date:U}
              insertData = 1
              noTrimWrap  = | | |
            }
          }
          my_datesheet = COA
          my_datesheet {
            comment (
              if the current unixtime isGreaterThan tx_org_cal.datetime
              if     {$value}               >         {$isGreaterThan}
            )
            if {
              value {
                data = date:U
              }
              isGreaterThan = ###TX_ORG_CAL.DATETIME###
            }
              // name of weekday
            10 = TEXT
            10 {
              value     = ###TX_ORG_CAL.DATETIME###
              strftime  = %a
              wrap      = <div class="weekday">|</div>
              typolink {
                parameter = {page:uid} - "linktosingle invert"
                parameter {
                  insertData = 1
                }
                additionalParams = &tx_browser_pi1[calendarUid]=###TX_ORG_CAL.UID###&###CHASH###
              }
            }
              // day of month as number
            20 = TEXT
            20 {
              value     = ###TX_ORG_CAL.DATETIME###
              strftime  = %d
              wrap      = <div class="day_of_month">|</div>
              typolink {      
                parameter = {page:uid} - "linktosingle invert"
                parameter {
                  insertData = 1
                }
                additionalParams = &tx_browser_pi1[calendarUid]=###TX_ORG_CAL.UID###&###CHASH###
              }
            }
              // month
            30 = TEXT
            30 {
              value     = ###TX_ORG_CAL.DATETIME###
              strftime  = %b
              wrap      = <div class="month">|</div>
              typolink {
                parameter = {page:uid} - "linktosingle invert"
                parameter {
                  insertData = 1
                }
                additionalParams = &tx_browser_pi1[calendarUid]=###TX_ORG_CAL.UID###&###CHASH###
              }
            }
          }
        }
        select (
          tx_org_repertoire.title,
          tx_org_repertoire.calendar,
          tx_org_repertoire.deleted,
          tx_org_repertoire.producer,
          tx_org_repertoire.length,
          tx_org_repertoire.short,
          tx_org_repertoire.bodytext,

          tx_org_repertoire.actor,
          tx_org_repertoire.puppeteer,
          tx_org_repertoire.dancer,
          tx_org_repertoire.vocals,
          tx_org_repertoire.musician,
          tx_org_repertoire.video,
          tx_org_repertoire.narrator,
          tx_org_repertoire.director,
          tx_org_repertoire.advisor,
          tx_org_repertoire.assistant,
          tx_org_repertoire.stage_design,
          tx_org_repertoire.tailoring,
          tx_org_repertoire.requisite,
          tx_org_repertoire.garment,
          tx_org_repertoire.makeup,
          tx_org_repertoire.stage_manager,
          tx_org_repertoire.technical_manager,
          tx_org_repertoire.technique,
          tx_org_repertoire.light,
          tx_org_repertoire.sound,
          tx_org_repertoire.otherslabel,
          tx_org_repertoire.others,

          tx_org_repertoire.image,
          tx_org_repertoire.imagecaption,
          tx_org_repertoire.imageseo,
          tx_org_repertoire.embeddedcode,
          tx_org_repertoire.print,
          tx_org_repertoire.printcaption,
          tx_org_repertoire.printseo,
          tx_org_repertoire.documents,
          tx_org_repertoire.keywords,
          tx_org_repertoire.description,
          tx_org_cal.uid,
          tx_org_cal.datetime
        )
        orderBy = tx_org_cal.datetime
        tx_org_cal {
          datetime = COA
          datetime {
            comment (
              if the current unixtime isGreaterThan tx_org_cal.datetime
              if     {$value}               >         {$isGreaterThan}
            )
            if {
              value {
                data = date:U
              }
              isGreaterThan = ###TX_ORG_CAL.DATETIME###
            }
            wrap = <div class="my_datesheet">|</div>
              // name of weekday
            10 = TEXT
            10 {
              value     = ###TX_ORG_CAL.DATETIME###
              strftime  = %a
              wrap      = <div class="weekday">|</div>
              typolink {
                parameter = {$plugin.org.pages.calendar} - "linktosingle invert"
                parameter {
                  insertData = 1
                }
                additionalParams = &tx_browser_pi1[calendarUid]=###TX_ORG_CAL.UID###&###CHASH###
              }
            }
              // day of month as number
            20 = TEXT
            20 {
              value     = ###TX_ORG_CAL.DATETIME###
              strftime  = %d
              wrap      = <div class="day_of_month">|</div>
              typolink {      
                parameter = {$plugin.org.pages.calendar} - "linktosingle invert"
                parameter {
                  insertData = 1
                }
                additionalParams = &tx_browser_pi1[calendarUid]=###TX_ORG_CAL.UID###&###CHASH###
              }
            }
              // month
            30 = TEXT
            30 {
              value     = ###TX_ORG_CAL.DATETIME###
              strftime  = %b
              wrap      = <div class="month">|</div>
              typolink {
                parameter = {$plugin.org.pages.calendar} - "linktosingle invert"
                parameter {
                  insertData = 1
                }
                additionalParams = &tx_browser_pi1[calendarUid]=###TX_ORG_CAL.UID###&###CHASH###
              }
            }
          }
        }
        tx_org_repertoire {
          title = COA
          title {
            10 = TEXT
            10 {
              value = ###TX_ORG_REPERTOIRE.TITLE###
              wrap = <h1>|</h1>
            }
            20 = TEXT
            20 {
              if.isTrue = ###TX_ORG_REPERTOIRE.PRODUCER###
              value     = by ###TX_ORG_REPERTOIRE.PRODUCER###
              lang.de   = von ###TX_ORG_REPERTOIRE.PRODUCER###
              wrap      = <p><span class="orange_bold">|</span></p>
            }
            30 = TEXT
            30 {
              if.isTrue = ###TX_ORG_REPERTOIRE.LENGTH###
              value     = Length: by ###TX_ORG_REPERTOIRE.LENGTH###
              lang.de   = Dauer: ###TX_ORG_REPERTOIRE.LENGTH###
              wrap      = <p>|</p>
            }
          }
          image < tt_content.image.20
          image {
            imgList.field >
            imgList = ###TX_ORG_REPERTOIRE.IMAGE###
            imgPath = uploads/tx_org/
            1 {
              file {
                width.field >
                width   = 160c;
                height  = 110c;
              }
              altText.field   >
              altText         = ###TX_ORG_REPERTOIRE.IMAGESEO###
              titleText.field >
              titleText       = ###TX_ORG_REPERTOIRE.IMAGESEO###
              imageLinkWrap {
                enable.field >
                enable = 1
                width   = 1000;
                height  = 800m;
                //JSwindow = 0
              }
            }
            layout {
              key.field >
                // above-left
              key = 2
            }
            cols.field >
            cols = 3
            caption.1 {
              field >
              value = ###TX_ORG_REPERTOIRE.IMAGECAPTION###
            }
            stdWrap {
              prefixComment >
              wrap          = <div class="image">|</div>
            }
          }
          deleted = COA
          deleted {
            comment (
              Konfigurations-Trick: Die Tabelle mit den Beteiligten soll nur angezeigt werden, wenn Datensaetze
              mit Beteilgten vorhanden sind. Siehe deleted und otherslabel
            )
            if {
              isTrue = ###TX_ORG_REPERTOIRE.ACTOR######TX_ORG_REPERTOIRE.PUPPETEER######TX_ORG_REPERTOIRE.DANCER######TX_ORG_REPERTOIRE.MUSICIAN######TX_ORG_REPERTOIRE.NARRATOR######TX_ORG_REPERTOIRE.DIRECTOR######TX_ORG_REPERTOIRE.ADVISOR### ###TX_ORG_REPERTOIRE.STAGE_DESIGN######TX_ORG_REPERTOIRE.TAILORING### ###TX_ORG_REPERTOIRE.REQUISITE### ###TX_ORG_REPERTOIRE.GARMENT### ###TX_ORG_REPERTOIRE.MAKEUP######TX_ORG_REPERTOIRE.STAGE_MANAGER### ###TX_ORG_REPERTOIRE.TECHNICAL_MANAGER### ###TX_ORG_REPERTOIRE.TECHNIQUE### ###TX_ORG_REPERTOIRE.LIGHT### ###TX_ORG_REPERTOIRE.SOUND### ###TX_ORG_REPERTOIRE.OTHERSLABEL### ###TX_ORG_REPERTOIRE.OTHERS###
            }
            10 = TEXT
            10 {
              value = <table>
            }
          }
          otherslabel < .deleted
          otherslabel {
            10.value = </table>
          }
          actor = COA
          actor {
            if {
              isTrue = ###TX_ORG_REPERTOIRE.ACTOR###
            }
            10 = TEXT
            10 {
              data = LLL:EXT:org/locallang_db.xml:tx_org_repertoire.actor
              wrap = <tr><td>|</td>
            }
            11 = COA
            11 {
              wrap = <td>|</td></tr>
              10 = TEXT
              10 {
                browser {
                  handleRelation  = 1
                  orderBy         = fe_users.last_name
                  devider = TEXT
                  devider {
                    value       = ,
                    noTrimWrap  = || |
                  }
                }
                value = ###FE_USERS.FIRST_NAME### ###FE_USERS.LAST_NAME###
                typolink {
                  parameter = {$plugin.org.pages.staff}
                  parameter {
                    insertData = 1
                  }
                  additionalParams = &tx_browser_pi1[staffUid]=###FE_USERS.UID###&###CHASH###
                }
              }
            }
          }
          puppeteer < .actor
          puppeteer {
            if.isTrue = ###TX_ORG_REPERTOIRE.PUPPETEER###
            10.data = LLL:EXT:org/locallang_db.xml:tx_org_repertoire.puppeteer
          }
          dancer < .actor
          dancer {
            if.isTrue = ###TX_ORG_REPERTOIRE.DANCER###
            10.data = LLL:EXT:org/locallang_db.xml:tx_org_repertoire.dancer
          }
          vocals < .actor
          vocals {
            if.isTrue = ###TX_ORG_REPERTOIRE.VOCALS###
            10.data = LLL:EXT:org/locallang_db.xml:tx_org_repertoire.vocals
          }
          musician < .actor
          musician {
            if.isTrue = ###TX_ORG_REPERTOIRE.MUSICIAN###
            10.data = LLL:EXT:org/locallang_db.xml:tx_org_repertoire.musician
          }
          video < .actor
          video {
            if.isTrue = ###TX_ORG_REPERTOIRE.VIDEO###
            10.data = LLL:EXT:org/locallang_db.xml:tx_org_repertoire.video
          }
          narrator < .actor
          narrator {
            if.isTrue = ###TX_ORG_REPERTOIRE.NARRATOR###
            10.data = LLL:EXT:org/locallang_db.xml:tx_org_repertoire.narrator
          }
          director < .actor
          director {
            if.isTrue = ###TX_ORG_REPERTOIRE.DIRECTOR###
            10.data = LLL:EXT:org/locallang_db.xml:tx_org_repertoire.director
          }
          advisor < .actor
          advisor {
            if.isTrue = ###TX_ORG_REPERTOIRE.ADVISOR###
            10.data = LLL:EXT:org/locallang_db.xml:tx_org_repertoire.advisor
          }
          assistant < .actor
          assistant {
            if.isTrue = ###TX_ORG_REPERTOIRE.ASSISTANT###
            10.data = LLL:EXT:org/locallang_db.xml:tx_org_repertoire.assistant
          }
          stage_design < .actor
          stage_design {
            if.isTrue = ###TX_ORG_REPERTOIRE.STAGE_DESIGN###
            10.data = LLL:EXT:org/locallang_db.xml:tx_org_repertoire.stage_design
          }
          tailoring < .actor
          tailoring {
            if.isTrue = ###TX_ORG_REPERTOIRE.TAILORING###
            10.data = LLL:EXT:org/locallang_db.xml:tx_org_repertoire.tailoring
          }
          requisite < .actor
          requisite {
            if.isTrue = ###TX_ORG_REPERTOIRE.REQUISITE###
            10.data = LLL:EXT:org/locallang_db.xml:tx_org_repertoire.requisite
          }
          garment < .actor
          garment {
            if.isTrue = ###TX_ORG_REPERTOIRE.GARMENT###
            10.data = LLL:EXT:org/locallang_db.xml:tx_org_repertoire.garment
          }
          makeup < .actor
          makeup {
            if.isTrue = ###TX_ORG_REPERTOIRE.MAKEUP###
            10.data = LLL:EXT:org/locallang_db.xml:tx_org_repertoire.makeup
          }
          stage_manager < .actor
          stage_manager {
            if.isTrue = ###TX_ORG_REPERTOIRE.STAGE_MANAGER###
            10.data = LLL:EXT:org/locallang_db.xml:tx_org_repertoire.stage_manager
          }
          technical_manager < .actor
          technical_manager {
            if.isTrue = ###TX_ORG_REPERTOIRE.TECHNICAL_MANAGER###
            10.data = LLL:EXT:org/locallang_db.xml:tx_org_repertoire.technical_manager
          }
          technique < .actor
          technique {
            if.isTrue = ###TX_ORG_REPERTOIRE.TECHNIQUE###
            10.data = LLL:EXT:org/locallang_db.xml:tx_org_repertoire.technique
          }
          light < .actor
          light {
            if.isTrue = ###TX_ORG_REPERTOIRE.LIGHT###
            10.data = LLL:EXT:org/locallang_db.xml:tx_org_repertoire.light
          }
          sound < .actor
          sound {
            if.isTrue = ###TX_ORG_REPERTOIRE.SOUND###
            10.data = LLL:EXT:org/locallang_db.xml:tx_org_repertoire.sound
          }
          others < .actor
          others {
            if.isTrue = ###TX_ORG_REPERTOIRE.OTHERS###
            10 {
              data >
              value = ###TX_ORG_REPERTOIRE.OTHERSLABEL###
            }
          }
          bodytext = COA
          bodytext {
            10 = TEXT
            10 {
              if {
                isTrue = ###TX_ORG_REPERTOIRE.SHORT###
              }
              value = ###TX_ORG_REPERTOIRE.SHORT###
              wrap  = <p><strong>|</strong></p>
            }
            11 = TEXT
            11 {
              value = ###TX_ORG_REPERTOIRE.BODYTEXT###
              stdWrap.parseFunc < lib.parseFunc_RTE
            }
          }
        }
      }
    }
  }
  
  _LOCAL_LANG {
    default {
      label_sword_default       = Search Word
      pi_list_searchBox_search  = Search!
      list_mode_302_titleTag      = TYPO3-Organiser: Repertoire
      list_mode_302_keywords      = TYPO3, Organiser, Repertoire
      list_mode_302_summary       = TYPO3-Organiser: Repertoire
      single_mode_302_titleTag    = TYPO3-Organiser: ###TX_ORG_CAL.TITLE###
      single_mode_302_keywords    = ###TX_ORG_REPERTOIRE.KEYWORDS###
      single_mode_302_summary     = ###TX_ORG_REPERTOIRE.DESCRIPTION###
    }
    de {
      label_sword_default       = Suchbegriff
      pi_list_searchBox_search  = Suchen!
      list_mode_302_titleTag      = TYPO3-Organiser: Repertoire und Stücke
      list_mode_302_keywords      = TYPO3, Organiser, Repertoire, Stücke
      list_mode_302_summary       = TYPO3-Organiser: Repertoire und Stücke
      single_mode_302_titleTag    = TYPO3-Organiser: ###TX_ORG_REPERTOIRE.TITLE###
      single_mode_302_keywords    = ###TX_ORG_REPERTOIRE.KEYWORDS###
      single_mode_302_summary     = ###TX_ORG_REPERTOIRE.DESCRIPTION###
    }
  }
}
  // plugin.tx_browser_pi1


  ////////////////////////////////////////
  //
  // Header Comment

page.config.headerComment (
        TYPO3-Programmierung: die-netzmacher.de
)
  // Header Comment
