plugin.tx_browser_pi1 {
  
  general_stdWrap {
    parseFunc {
      nonTypoTagStdWrap {
        HTMLparser = 0
      }
    }
  }
  
  template {
    extensions {
      org {
        rss {
          name     = Org: News (RSS-Feed)
          file     = EXT:org/res/html/news/499/rss.tmpl
          csvViews = 499
        }
      }
    }
  }
  views {
    list {
      499 {
        name = +Org: News (RSS)
        select (
          tx_org_news.title,
          tx_org_news.teaser_short,
          tx_org_news.bodytext,
          tx_org_news.uid
        )
        andWhere (
          (tx_org_news.archivedate = 0 OR tx_org_news.archivedate > UNIX_TIMESTAMP())
        )
        orderBy (
          tx_org_news.datetime DESC
        )
        tx_org_news {
          teaser_short = COA
          teaser_short {
            10 = TEXT
            10 {
              value = ###TX_ORG_NEWS.TEASER_SHORT###
            }
            20 = TEXT
            20 {
              if.isFalse  = ###TX_ORG_NEWS.SHORT###
              value       = ###TX_ORG_NEWS.BODYTEXT###
              crop        = 300 | ... | 1
              stripHtml   = 1
            }
          }
          title = COA
          title {
            10 = TEXT
            10 {
              value = ###TX_ORG_NEWS.TITLE###
              crop  = 60 | ... | 1
            }
          }
          uid = COA
          uid {
            10 = TEXT
            10 {
              value = {$plugin.tx_browser_pi1.extensions.org.host}/
            }
            20 = TEXT
            20 {
              typolink {
                parameter = {$plugin.tx_browser_pi1.extensions.org.pages.single_view}
                parameter {
                  insertData = 1
                }
                additionalParams  = &tx_browser_pi1[newsUid]=###TX_ORG_NEWS.UID###
                returnLast = url
              }
            }
          }
        }
        marker < plugin.tx_browser_pi1.marker
        marker {
          my_http = TEXT
          my_http {
            value = http://
          }
          rss_title {
            value   = {$plugin.tx_browser_pi1.extensions.org._LOCAL_LANG.default.title}
            lang.de = {$plugin.tx_browser_pi1.extensions.org._LOCAL_LANG.de.title}
          }
          rss_url {
            typolink {
              parameter = {$plugin.tx_browser_pi1.extensions.org.pages.rss_feed}
            }
          }
          rss_description {
            value   = {$plugin.tx_browser_pi1.extensions.org._LOCAL_LANG.default.description}
            lang.de = {$plugin.tx_browser_pi1.extensions.org._LOCAL_LANG.de.description}
          }
          rss_image_title {
            value   = {$plugin.tx_browser_pi1.extensions.org._LOCAL_LANG.default.description}
            lang.de = {$plugin.tx_browser_pi1.extensions.org._LOCAL_LANG.de.description}
          }
          rss_image_url {
            value = http://{$plugin.tx_browser_pi1.extensions.org.host}{$plugin.tx_browser_pi1.extensions.org.pathToIcon}
          }
          rss_image_link {
            value = http://{$plugin.tx_browser_pi1.extensions.org.host}/
          }
          rss_image_height {
            value = http://{$plugin.tx_browser_pi1.extensions.org.heightOfIcon}/
          }
          rss_image_width {
            value = http://{$plugin.tx_browser_pi1.extensions.org.widthOfIcon}/
          }
          rss_image_description {
            value   = {$plugin.tx_browser_pi1.extensions.org._LOCAL_LANG.default.description}
            lang.de = {$plugin.tx_browser_pi1.extensions.org._LOCAL_LANG.de.description}
          }
        }
      }
    }
    single {
      499 {
        select = tx_org_news.title
        andWhere (
          (tx_org_news.archivedate = 0 OR tx_org_news.archivedate > UNIX_TIMESTAMP())
        )
      }
    }
  }
}
