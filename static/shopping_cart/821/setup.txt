
  // 821: shopping cart main template for tx_org_downloads



  ////////////////////////////////////////
  //
  // INDEX

  // plugin.tx_wtcart_pi1
  // plugin.tx_powermail_pi1
  // page



  ////////////////////////////////////////
  //
  // plugin.tx_wtcart_pi1

plugin.tx_wtcart_pi1 {
  
  main {
    template = EXT:org/res/html/shopping_cart/821/default.tmpl
  }
  
  powermailContent {
    uid = {$plugin.org.tx_wtcart_pi1.powermailContentUid_downloads}
  }
  db {
    sql = COA
    sql {
        // GP data without sys_language[flag]
      10 = TEXT
      10 {
        if {
          isFalse {
            data = GPvar:sys_language|flag
          }
        }
        value (
          SELECT  CAST( '{GP:tx_org_downloads|uid}' AS SIGNED) AS puid,
                  CONCAT(
                    '<strong>', tx_org_downloads.title, ' </strong>') AS title,
                  '0,00' as price,
                  '0,00' as tax
          FROM `tx_org_downloads`
          WHERE tx_org_downloads.uid = CAST( '{GP:tx_org_downloads|uid}' AS SIGNED) ###ENABLE_FIELDS:TX_ORG_DOWNLOADS###
)
        insertData = 1
      }
        // GP data with sys_language[flag]
      20 = COA
      20 {
          // sys_language[flag] with value: query with sys_language.flag
        10 = TEXT
        10 {
          if {
            value   = {GP:sys_language|flag}
            value {
              insertData = 1
            }
            equals  = ###SYS_LANGUAGE.FLAG###
            negate  = 1
          }
          value (
            SELECT  CAST( '{GP:tx_org_downloads|uid}' AS SIGNED) AS puid,
                    CONCAT(
                      '<img src="typo3/gfx/flags/{GP:sys_language|flag}.gif" alt="{GP:tx_org_downloads|documents} ({GP:sys_language|title})" title="{GP:tx_org_downloads|documents} ({GP:sys_language|title})"/>',
                      ' ',
                      '<strong>', tx_org_downloads.title, ' </strong>') AS title,
                    '0,00' as price,
                    '0,00' as tax
            FROM `tx_org_downloads`
            WHERE tx_org_downloads.uid = CAST( '{GP:tx_org_downloads|uid}' AS SIGNED) ###ENABLE_FIELDS:TX_ORG_DOWNLOADS###
  )
          insertData = 1
        }
          // sys_language[flag] with MARKER: query without sys_language.flag
        20 = TEXT
        20 {
          if {
            value   = {GP:sys_language|flag}
            value {
              insertData = 1
            }
            equals  = ###SYS_LANGUAGE.FLAG###
          }
          value (
            SELECT  CAST( '{GP:tx_org_downloads|uid}' AS SIGNED) AS puid,
                    CONCAT(
                      '<strong>', tx_org_downloads.title, ' </strong>') AS title,
                    '0,00' as price,
                    '0,00' as tax
            FROM `tx_org_downloads`
            WHERE tx_org_downloads.uid = CAST( '{GP:tx_org_downloads|uid}' AS SIGNED) ###ENABLE_FIELDS:TX_ORG_DOWNLOADS###
  )
          insertData = 1
        }
      }
    }
  }
  
  settings {
    overall {
      cart_gross >
      cart_gross = COA
      cart_gross {
        wrap = |&nbsp;{$plugin.wtcart.main.currencySymbol}
        10 = USER
        10.userFunc = user_wtcart_userfuncs->user_wtcart_numberFormat
        10.userFunc {
          number = TEXT
          number.field = cart_gross
          decimal = 2
          dec_point = {$plugin.wtcart.main.dec_point}
          thousands_sep = {$plugin.wtcart.main.thousands_sep}
        }
      }
    }
  }

  wtcart_ts_ {
      // Back button, devider, all downloads button
    my_back_button_line = COA
    my_back_button_line {
      wrap = <p class="backbutton">|</p>
        // Back button
      10 = TEXT
      10 {
        value = Back
        lang.de = Zur&uuml;ck
        noTrimWrap  = |<a href="javascript:history.back()">&laquo; |</a>|
      }
        // Devider
      20 = TEXT
      20 {
        value       = |
        noTrimWrap  = | | |
      }
        // All downloads button
      30 = TEXT
      30 {
        value = All Downloads &raquo;
        lang {
          de  = Alle Downloads &raquo;
          en  = All Downloads &raquo;
        }
        typolink {
          parameter = {$plugin.org.pages.downloads}
          title = TEXT
          title {
            value = All Downloads
            lang {
              de  = Alle Downloads
              en  = All Downloads
            }
          }
          useCacheHash = 1
        }
      }
    }
  }

  _LOCAL_LANG {
    default {
      wtcart_ll_title = Document
      wtcart_ll_price = Price
      wtcart_ll_empty (
          If you like to order a document, please visit the page
          <a title="Downloads" href="{$plugin.org.url.default.downloads}">
            Downloads &raquo;</a>.<br />
          If you are interested in our terms and conditions, please visit the page
          <a title="Informationen about booking" href="{$plugin.org.url.default.terms_downloads}">
            terms and conditions &raquo;</a>.
)
    }
    de {
      wtcart_ll_title = Dokument
      wtcart_ll_price = Preis
      wtcart_ll_empty (
          Wenn Du ein Dokument bestellen m&ouml;chtest,
          w&auml;hle das Dokument oder den Datenträger
          auf der Seite
          <ul>
            <li>
              <a title="Downloads" href="{$plugin.org.url.de.downloads}">
                Downloads &raquo;</a>
            </li>
          </ul>
          aus.<br />
          <br />
          Es gibt keine allgemeinen Geschäftsbedingungen.
          Wenn Du dazu mehr wissen möchtest, klicke auf
          <ul>
            <li>
              <a title="Allgemeinen Geschäftsbedingungen" href="{$plugin.org.url.de.terms_downloads}">
                AGB &raquo;</a>.
            </li>
          </ul>
)
    }
  }
}
  // plugin.tx_wtcart_pi1



  ////////////////////////////////////////
  //
  // plugin.tx_powermail_pi1

plugin.tx_powermail_pi1 {
  email {
    noreply = {$plugin.org.powermail.noreply}
    sender_mail {
      sender {
        name {
          value = {$plugin.org.powermail.sender.name}
        }
        email {
          value = {$plugin.org.powermail.sender.mail}
        }
      }
    }
  }
  _LOCAL_LANG {
    default {
      locallangmarker_confirmation_submit = Send the order
    }
    de {
      locallangmarker_confirmation_submit = Bestellung absenden
    }
  }
}
  // plugin.tx_powermail_pi1



  ////////////////////////////////////////
  //
  // page

page {
  includeCSS {
    // remove the cart default css
    file3456     >
    // add the quick shop default css
    cartCSS = EXT:org/res/html/shopping_cart/821/default.css
  }
}
  // page



  ////////////////////////////////////////
  //
  // Header Comment

page.config.headerComment (
        TYPO3-Programmierung: die-netzmacher.de
)
  // Header Comment
