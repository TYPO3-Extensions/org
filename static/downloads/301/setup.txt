

  ////////////////////////////////////////
  //
  // INDEX

  // plugin.tx_browser_pi1
  //    views
  //      301: +Org: Downloads



  ////////////////////////////////////////
  //
  // plugin.tx_browser_pi1

plugin.tx_browser_pi1 {
  
  template {
    extensions {
      org {
        downloads {
          name      = Org: Downloads
          file      = EXT:org/res/html/downloads/301/default.tmpl
          csvViews  = 301
        }
      }
    }
  }

  views {
    list {
      301 = +Org: Downloads
      301 {
        name    = +Org: Downloads
        showUid = downloadsUid
        displayList < plugin.tx_browser_pi1.displayList
        displayList {
          selectBox_orderBy.display = 0
        }
        select (
          tx_org_downloads.title,
          tx_org_downloads.type,
          tx_org_downloads.subtitle,
          tx_org_downloads.datetime,

          tx_org_downloads.teaser_title,
          tx_org_downloads.teaser_subtitle,
          tx_org_downloads.teaser_short,

          tx_org_downloads.type,

          tx_org_downloads.bodytext,

          tx_org_downloads.documents,
          tx_org_downloads.documents_from_path,
          tx_org_downloads.documentslayout,
          tx_org_downloads.documentscaption,
          tx_org_downloads.documentssize,

          tx_org_downloads.thumbnail,
          tx_org_downloads.thumbnail_width,
          tx_org_downloads.thumbnail_height,

          tx_org_downloads.linkicon_width,
          tx_org_downloads.linkicon_height,

          tx_org_downloads.keywords,
          tx_org_downloads.description
        )
        orderBy (
          tx_org_downloads.datetime DESC
        )
        csvLinkToSingleView = tx_org_downloads.title
        filter {
          tx_org_downloads {
            datetime < plugin.tx_browser_pi1.displayList.master_templates.selectbox
            datetime {
              first_item {
                stdWrap {
                  data = LLL:EXT:org/locallang_db.xml:filter_phrase.period
                }
              }
              wrap = <span class="category_menu">|</span>
              wrap {
                item {
                  //display_without_any_hit = 1
                  stdWrap {
                    htmlSpecialChars = 0
                    crop >
                  }
                }
              }
              order.field = uid
              area < plugin.tx_browser_pi1.displayList.master_templates.areas.sample_period
              area {
                interval {
                  case = year
                  monthXYZ {
                    times_stdWrap {
                      value = 3
                    }
                    value_stdWrap {
                      // %Y: full year like 2009
                      strftime = %Y
                    }
                  }
                }
              }
            }
          }
          tx_org_downloadscat {
            title < plugin.tx_browser_pi1.displayList.master_templates.selectbox
            title {
              first_item {
                stdWrap {
                  data = LLL:EXT:org/locallang_db.xml:filter_phrase.doccat
                }
              }
              wrap = <span class="selectbox">|</span>
              wrap {
                item {
                  stdWrap {
                    crop = 30 | ... | 1
                  }
                }
              }
            }
          }
          tx_org_downloadsmedia {
            title < plugin.tx_browser_pi1.displayList.master_templates.selectbox
            title {
              first_item {
                stdWrap {
                  data = LLL:EXT:org/locallang_db.xml:filter_phrase.docmedia
                }
              }
              wrap = <span class="selectbox">|</span>
              wrap {
                item {
                  stdWrap {
                    crop = 30 | ... | 1
                  }
                }
              }
            }
          }
        }
        tx_org_downloads {
            // thumbnail
          thumbnail < tt_content.uploads.20
          thumbnail {
            userFunc = tx_browser_cssstyledcontent->render_uploads
            filePath >
            itemRendering {
              10 {
                if    >
                wrap  >
              }
              20 >
              30 >
              wrap = <div class="csc-uploads-thumbnail csc-uploads-thumbnail-first">|</div> |*| <div class="csc-uploads-thumbnail csc-uploads-thumbnail-even">|</div> || <div class="csc-uploads-thumbnail">|</div> |*| <div class="csc-uploads-thumbnail csc-uploads-thumbnail-last">|</div>
            }
            linkProc {
              iconCObject {
                file {
                  width = 80
                }
              }
              tx_browser_pi1 = TEXT
              tx_browser_pi1 {
                typolink {
                  parameter         = {$plugin.org.pages.downloads},{$plugin.tx_browser_pi1.typeNum.downloadPageObj}
                  additionalParams  = &tx_browser_pi1[plugin]=###TT_CONTENT.UID###&tx_browser_pi1[file]=single.301.tx_org_downloads.###TX_ORG_DOWNLOADS.UID###.documents.###KEY###
                  useCacheHash      = 1
                  returnLast        = url
                }
              }
            }
            tableField = tx_org_downloads.documents
            fields {
              from_path = ###TX_ORG_DOWNLOADS.DOCUMENTS_FROM_PATH###
              files     = ###TX_ORG_DOWNLOADS.DOCUMENTS###
              files {
                override = ###TX_ORG_DOWNLOADS.THUMBNAIL###
              }
              layout    = 2
            }
            stdWrap {
              if.isTrue = ###TX_ORG_DOWNLOADS.THUMBNAIL######TX_ORG_DOWNLOADS.DOCUMENTS######TX_ORG_DOWNLOADS.DOCUMENTS_FROM_PATH###
            }
          }
          title = COA
          title {
              // doc_download, doc_download_shipping, doc_shipping
            10 = CASE
            10 {
              key = ###TX_ORG_DOWNLOADS.TYPE###
                // doc_download
              default = COA
              default {
                  // If tx_org_downloads.teaser_title is true
                10 = TEXT
                10 {
                  if.isTrue = ###TX_ORG_DOWNLOADS.TEASER_TITLE###
                  value     = ###TX_ORG_DOWNLOADS.TEASER_TITLE###
                  typolink {
                    parameter         = {$plugin.org.pages.downloads} - linktosingle
                    additionalParams  = &tx_browser_pi1[downloadsUid]=###TX_ORG_DOWNLOADS.UID###
                    useCacheHash      = 1
                  }
                }
                  // If tx_org_downloads.teaser_title is false
                11 = TEXT
                11 {
                  if.isFalse  = ###TX_ORG_DOWNLOADS.TEASER_TITLE###
                  value       = ###TX_ORG_DOWNLOADS.TITLE###
                  typolink {
                    parameter         = {$plugin.org.pages.downloads} - linktosingle
                    additionalParams  = &tx_browser_pi1[downloadsUid]=###TX_ORG_DOWNLOADS.UID###
                    useCacheHash      = 1
                  }
                }
              }
              XXX_doc_download_shipping = COA
              XXX_doc_download_shipping {
              }
              XXX_doc_shipping = COA
              XXX_doc_shipping {
              }
            }
          }
          subtitle = COA
          subtitle {
            10 = TEXT
            10 {
              if.isTrue = ###TX_ORG_DOWNLOADS.TEASER_SUBTITLE###
              value     = ###TX_ORG_DOWNLOADS.TEASER_SUBTITLE###
            }
            11 = TEXT
            11 {
              if.isFalse  = ###TX_ORG_DOWNLOADS.TEASER_SUBTITLE###
              value       = ###TX_ORG_DOWNLOADS.SUBTITLE###
            }
          }
          teaser_short = COA
          teaser_short {
            10 = TEXT
            10 {
              value       = ###TX_ORG_DOWNLOADS.DATETIME###
              strftime    = %d. %b %Y
              noTrimWrap  = |<span class="datetime">| &ndash;</span> |
            }
            11 = TEXT
            11 {
              value       = ###TX_ORG_DOWNLOADS.TEASER_SHORT###
            }
            12 = TEXT
            12 {
              if {
                isFalse = ###TX_ORG_DOWNLOADS.TEASER_SHORT###
              }
              value       = ###TX_ORG_DOWNLOADS.BODYTEXT###
              crop        = 200 | ... | 1
              stripHtml = 1
            }
              // doc_download, doc_download_shipping, doc_shipping
            13 = CASE
            13 {
              key = ###TX_ORG_DOWNLOADS.TYPE###
                // doc_download
              default = TEXT
              default {
                value = more &raquo;
                lang.de = mehr &raquo;
                noTrimWrap = | <span class="more">|</span>|
                typolink {
                  parameter         = {$plugin.org.pages.downloads} - linktosingle
                  additionalParams  = &tx_browser_pi1[downloadsUid]=###TX_ORG_DOWNLOADS.UID###
                  useCacheHash      = 1
                }
              }
              XXX_doc_download_shipping = TEXT
              XXX_doc_download_shipping {
              }
              XXX_doc_shipping = TEXT
              XXX_doc_shipping {
              }
            }
          }
        }
      }
    }
    single {
      301 = +Org: Downloads
      301 {
        marker < plugin.tx_browser_pi1.marker
        marker {
          my_listview_page = TEXT
          my_listview_page {
            value = All Downloads &raquo;
            lang.de = Alle Downloads &raquo;
            typolink {
              parameter = {$plugin.org.pages.downloads}
              title {
                value = All Downloads
                lang.de = Alle Downloads
              }
              useCacheHash = 1
            }
          }
          my_singleview_title = TEXT
          my_singleview_title {
            value   = Document
            lang.de = Nachricht
            wrap    = <div class="header01">|</div>
          }
        }
        select (
          tx_org_downloads.title,
          tx_org_downloads.type,
          tx_org_downloads.subtitle,
          tx_org_downloads.datetime,
          tx_org_downloads.bodytext,

          tx_org_downloads.documents,
          tx_org_downloads.documentscaption,
          tx_org_downloads.documents_from_path,
          tx_org_downloads.documents_display_label,
          tx_org_downloads.documents_display_caption,
          tx_org_downloads.documentslayout,
          tx_org_downloads.documentssize,

          tx_org_downloads.thumbnail,
          tx_org_downloads.thumbnail_width,
          tx_org_downloads.thumbnail_height,

          tx_org_downloads.linkicon_width,
          tx_org_downloads.linkicon_height,

          tx_org_downloads.keywords,
          tx_org_downloads.description,

          tx_org_downloadscat.title,
          tx_org_downloadsmedia.title
        )
        tx_org_downloads {
            // thumbnail, subtitle, title, datetime, bodytext, filelink
          title = COA
          title {
              // subtitle
            10 = TEXT
            10 {
              required  = 1
              value     = ###TX_ORG_DOWNLOADS.SUBTITLE###
              wrap      = <h2 class="doc_subtitle">|</h2>
            }
              // title
            20 = TEXT
            20 {
              required  = 1
              value     = ###TX_ORG_DOWNLOADS.TITLE###
              wrap      = <h1 class="doc_title csc-firstHeader">|</h1>
            }
              // thumbnail
            30 < tt_content.uploads.20
            30 {
              userFunc = tx_browser_cssstyledcontent->render_uploads
              filePath >
              itemRendering {
                10 {
                  if    >
                  wrap  >
                }
                20 >
                30 >
                wrap = <div class="csc-uploads-thumbnail csc-uploads-thumbnail-first">|</div> |*| <div class="csc-uploads-thumbnail csc-uploads-thumbnail-even">|</div> || <div class="csc-uploads-thumbnail">|</div> |*| <div class="csc-uploads-thumbnail csc-uploads-thumbnail-last">|</div>
              }
              linkProc {
                iconCObject {
                  file {
                    width   = ###TX_ORG_DOWNLOADS.THUMBNAIL_WIDTH###
                    height  = ###TX_ORG_DOWNLOADS.THUMBNAIL_HEIGHT###
                  }
                }
                tx_browser_pi1 = TEXT
                tx_browser_pi1 {
                  typolink {
                    parameter         = {$plugin.org.pages.downloads},{$plugin.tx_browser_pi1.typeNum.downloadPageObj}
                    additionalParams  = &tx_browser_pi1[plugin]=###TT_CONTENT.UID###&tx_browser_pi1[file]=single.301.tx_org_downloads.###TX_ORG_DOWNLOADS.UID###.documents.###KEY###
                    useCacheHash      = 1
                    returnLast        = url
                  }
                }
              }
              tableField = tx_org_downloads.documents
              fields {
                from_path = ###TX_ORG_DOWNLOADS.DOCUMENTS_FROM_PATH###
                files     = ###TX_ORG_DOWNLOADS.DOCUMENTS###
                files {
                  override = ###TX_ORG_DOWNLOADS.THUMBNAIL###
                }
                layout    = 2
              }
              stdWrap {
                if.isTrue = ###TX_ORG_DOWNLOADS.THUMBNAIL######TX_ORG_DOWNLOADS.DOCUMENTS######TX_ORG_DOWNLOADS.DOCUMENTS_FROM_PATH###
              }
            }
              // datetime, bodytext
            40 = COA
            40 {
              stdWrap.parseFunc < lib.parseFunc_RTE
                // datetime
              10 = TEXT
              10 {
                value       = ###TX_ORG_DOWNLOADS.DATETIME###
                strftime    = %d. %b. %Y
                noTrimWrap  = |<span class="datetime">| &ndash;</span> |
              }
                // bodytext
              20 = TEXT
              20 {
                value = ###TX_ORG_DOWNLOADS.BODYTEXT###
              }
            }
              // File link and order form
            50 < tt_content.uploads.20
            50 {
              userFunc = tx_browser_cssstyledcontent->render_uploads
              userFunc {
                  // Should this TypoScript executed for each language record?
                renderCurrentLanguageOnly = TEXT
                renderCurrentLanguageOnly {
                    // [Boolean] 1 (default), 0: render each existing language record
                  value = 0
                }
                  // DRS - Development Reporting System
                drs = TEXT
                drs {
                    // [Boolean] 0: disabled (default), 1: enabled
                  value = 1
                }
                  // Current table
                table = TEXT
                table {
                    // [STRING] Current table. I.e: tx_org_downloads
                  value = tx_org_downloads
                }
                  // Fields (fields which needed localised only)
                select = TEXT
                select {
                    // [String] select fields of the local table only! Fields are needed with localisation only
                  value (
                    uid,
                    documents,
                    documentscaption,
                    thumbnail,
                    linkicon_width,
                    linkicon_height
                  )
                }
                  // Current record
                record = TEXT
                record {
                    // [INTEGER] uid of the current record. I.e: ###TX_ORG_DOWNLOADS.UID###
                  value = ###TX_ORG_DOWNLOADS.UID###
                }
                  // conf: Should be a modified copy of the parent configuration
                conf < tt_content.uploads.20
                conf =
                conf {
                  userFunc >
                    // Don't outerWrap with <table> by default
                  outerWrap = |
                  filePath >
                  itemRendering >
                    // Download link and ordering form
                  itemRendering = COA
                  itemRendering {
                      // Form begin
                    10 = COA
                    10 {
                        // <form name="form_add_to_cart" ... method="post">
                      10 = TEXT
                      10 {
                        wrap (
          <form name="form_add_to_cart" id="form-order" class="tx_org_downloads-order" action="|" method="post">
)
                        //wrap = <form name="form_add_to_cart" id="form-order" class="tx_org_downloads-order" action="|" method="get">
                        typolink {
                          parameter     = {$plugin.org.pages.shopping_cart_downloads}
                          returnLast    = url
                          useCacheHash  = 1
                        }
                      }
                        // <fieldset><legend>X</legend><input ... /><input ... /><input ... />
                      20 = TEXT
                      20 {
                        value = Donwload or Ordering
                        lang {
                          de = Herunterladen oder Bestellen
                        }
                        wrap (
            <fieldset id="add-to-cart">
              <legend>|</legend>
              <input type="hidden"  name="id"                     value="{$plugin.org.pages.shopping_cart_downloads}" />
              <input type="hidden"  name="tx_org_downloads[uid]"        value="###TABLE.UID###" />
              <input type="hidden"  name="tx_org_downloads[documents]"  value="###TABLE.DOCUMENTS###" />
              <input type="hidden"  name="sys_language[flag]"     value="###SYS_LANGUAGE.FLAG###" />
              <input type="hidden"  name="sys_language[title]"    value="###SYS_LANGUAGE.TITLE###" />
)
                      }
                    }
                      // <table class="csc-uploads">|</table>
                    20 = COA
                    20 {
                      wrap (
              <table class="csc-uploads">|</table>
)
                        // Download link
                      10 = COA
                      10 {
                        if {
                          value   = ###TX_ORG_DOWNLOADS.TYPE###
                          equals  = doc_shipping
                          negate  = 1
                        }
                        wrap = <tr class="download">|</tr>
                          // Flag
                        10 = TEXT
                        10 {
                          wrap  = <td class="csc-uploads-flag">|</td>
                          value = <img src="typo3/gfx/flags/###SYS_LANGUAGE.FLAG###.gif" alt="###TABLE.DOCUMENTS### (###SYS_LANGUAGE.TITLE###)" title="###TABLE.DOCUMENTS### (###SYS_LANGUAGE.TITLE###)"/>
                          typolink {
                            parameter         = {$plugin.org.pages.downloads},{$plugin.tx_browser_pi1.typeNum.downloadPageObj}
                            additionalParams  = &tx_browser_pi1[plugin]=###TT_CONTENT.UID###&tx_browser_pi1[file]=single.301.tx_org_downloads.###TX_ORG_DOWNLOADS.UID###.documents.###KEY###
                            title             = ###TABLE.DOCUMENTS### (###SYS_LANGUAGE.TITLE###)
                            useCacheHash      = 1
                          }
                        }
                          // File icon
                        20 = COA
                        20 {
                          10 < tt_content.uploads.20.itemRendering.10
                          10 {
                            if {
                              isPositive.field >
                              isPositive = ###TX_ORG_DOWNLOADS.DOCUMENTSLAYOUT###
                            }
                          }
                        }
                          // File name
                        30 = COA
                        30 {
                          10 < tt_content.uploads.20.itemRendering.20.1
                          10 {
                            if.isTrue = ###TX_ORG_DOWNLOADS.DOCUMENTS_DISPLAY_LABEL###
                            wrap      = <td class="csc-uploads-file-name">|</td>
                            data = register:filename
                            typolink {
                              parameter         = {$plugin.org.pages.downloads},{$plugin.tx_browser_pi1.typeNum.downloadPageObj}
                              additionalParams  = &tx_browser_pi1[plugin]=###TT_CONTENT.UID###&tx_browser_pi1[file]=single.301.tx_org_downloads.###TX_ORG_DOWNLOADS.UID###.documents.###KEY###
                              title             = ###TABLE.DOCUMENTS### (###SYS_LANGUAGE.TITLE###)
                              useCacheHash      = 1
                            }
                          }
                        }
                          // File description
                        40 = COA
                        40 {
                          10 < tt_content.uploads.20.itemRendering.20.2
                          10 {
                            if.isTrue = ###TX_ORG_DOWNLOADS.DOCUMENTS_DISPLAY_CAPTION###
                            wrap      = <td class="csc-uploads-file-caption">|</td>
                          }
                        }
                          // Filesize
                        50 = COA
                        50 {
                          10 = COA
                          10 {
                            wrap = <td class="csc-uploads-fileSize">|</td>
                            10 < tt_content.uploads.20.itemRendering.30
                            10 {
                              if >
                              if.isTrue = ###TX_ORG_DOWNLOADS.DOCUMENTSSIZE###
                              wrap >
                              bytes {
                                labels = {$styles.content.uploads.filesizeBytesLabels}
                              }
                              typolink {
                                parameter         = {$plugin.org.pages.downloads},{$plugin.tx_browser_pi1.typeNum.downloadPageObj}
                                additionalParams  = &tx_browser_pi1[plugin]=###TT_CONTENT.UID###&tx_browser_pi1[file]=single.301.tx_org_downloads.###TX_ORG_DOWNLOADS.UID###.documents.###KEY###
                                title             = ###TABLE.DOCUMENTS### (###SYS_LANGUAGE.TITLE###)
                                useCacheHash      = 1
                              }
                            }
                          }
                        }
                          // Download icon
                        60 = IMAGE
                        60 {
                          wrap = <td class="csc-uploads-icon">|</td>
                          file = EXT:org/res/download.gif
                          imageLinkWrap = 1
                          imageLinkWrap {
                            enable = 1
                            typolink {
                              parameter         = {$plugin.org.pages.downloads},{$plugin.tx_browser_pi1.typeNum.downloadPageObj}
                              additionalParams  = &tx_browser_pi1[plugin]=###TT_CONTENT.UID###&tx_browser_pi1[file]=single.301.tx_org_downloads.###TX_ORG_DOWNLOADS.UID###.documents.###KEY###
                              title = TEXT
                              title {
                                value = Download ###TABLE.DOCUMENTS### (###SYS_LANGUAGE.TITLE###)
                                lang.de = ###TABLE.DOCUMENTS### (###SYS_LANGUAGE.TITLE###) herunterladen
                              }
                              useCacheHash      = 1
                            }
                          }
                        }
                          // Download button
                        70 = COA
                        70 {
                          wrap = <td class="csc-uploads-button">|</td>
                            // <button type="button" onclick="location='de/downloads/?type=31230&amp;...'">
                          10 = TEXT
                          10 {
                            prepend = TEXT
                            prepend {
                              value = <button type="button" onclick="location='
                            }
                            typolink {
                              parameter         = {$plugin.org.pages.downloads},{$plugin.tx_browser_pi1.typeNum.downloadPageObj}
                              additionalParams  = &tx_browser_pi1[plugin]=###TT_CONTENT.UID###&tx_browser_pi1[file]=single.301.tx_org_downloads.###TX_ORG_DOWNLOADS.UID###.documents.###KEY###
                              title             = Download ###TABLE.DOCUMENTS### (###SYS_LANGUAGE.TITLE###)
                              useCacheHash      = 1
                              returnLast        = url
                            }
                            append = TEXT
                            append {
                              value = '">
                            }
                          }
                            // label</button>
                          20 = TEXT
                          20 {
                            value   = Download
                            lang.de = Herunterladen
                            append = TEXT
                            append {
                              value = </button>
                            }
                          }
                        }
                      }
                        // Form for cart
                      20 = COA
                      20 {
                        if {
                          value   = ###TX_ORG_DOWNLOADS.TYPE###
                          equals  = doc_download
                          negate  = 1
                        }
                        wrap = <tr class="ordering">|</tr>
                          // Flag
                        10 = TEXT
                        10 {
                          wrap  = <td class="csc-uploads-flag">|</td>
                          value = <img src="typo3/gfx/flags/###SYS_LANGUAGE.FLAG###.gif" alt="###TABLE.DOCUMENTS### (###SYS_LANGUAGE.TITLE###)" title="###TABLE.DOCUMENTS### (###SYS_LANGUAGE.TITLE###)"/>
                          typolink {
                            parameter         = {$plugin.org.pages.downloads},{$plugin.tx_browser_pi1.typeNum.downloadPageObj}
                            additionalParams  = &tx_browser_pi1[plugin]=###TT_CONTENT.UID###&tx_browser_pi1[file]=single.301.tx_org_downloads.###TX_ORG_DOWNLOADS.UID###.documents.###KEY###
                            title             = ###TABLE.DOCUMENTS### (###SYS_LANGUAGE.TITLE###)
                            useCacheHash      = 1
                          }
                        }
                          // File icon (empty!)
                        20 = TEXT
                        20 {
                          if {
                            isPositive.field >
                            isPositive = ###TX_ORG_DOWNLOADS.DOCUMENTSLAYOUT###
                          }
                          value = &nbsp;
                          wrap  = <td class="csc-uploads-icon">|</td>
                        }
                          // File name (empty!)
                        30 = COA
                        30 {
                          10 < tt_content.uploads.20.itemRendering.20.1
                          10 {
                            if.isTrue = ###TX_ORG_DOWNLOADS.DOCUMENTS_DISPLAY_LABEL###
                            wrap      = <td class="csc-uploads-file-name">|</td>
                          }
                        }
                          // File description (empty!)
                        40 = COA
                        40 {
                          10 < tt_content.uploads.20.itemRendering.20.2
                          10 {
                            if.isTrue   = ###TX_ORG_DOWNLOADS.DOCUMENTS_DISPLAY_CAPTION###
                            wrap        = <td class="csc-uploads-file-caption">|</td>
                          }
                        }
                          // form input quantity
                        50 = TEXT
                        50 {
                          wrap = <td class="csc-uploads-fileSize">|</td>
                          value = <input type="text" name="quantity" value="1" class="quantity" />
                        }
                          // Cart icon
                        60 = IMAGE
                        60 {
                          wrap = <td class="csc-uploads-icon">|</td>
                          file = EXT:org/res/cart.gif
                          imageLinkWrap = 1
                          imageLinkWrap {
                            enable = 1
                            typolink {
                              parameter         = {$plugin.org.pages.downloads},{$plugin.tx_browser_pi1.typeNum.downloadPageObj}
                              additionalParams  = &tx_browser_pi1[plugin]=###TT_CONTENT.UID###&tx_browser_pi1[file]=single.301.tx_org_downloads.###TX_ORG_DOWNLOADS.UID###.documents.###KEY###
                              title = TEXT
                              title {
                                value = Download ###TABLE.DOCUMENTS### (###SYS_LANGUAGE.TITLE###)
                                lang.de = ###TABLE.DOCUMENTS### (###SYS_LANGUAGE.TITLE###) herunterladen
                              }
                              useCacheHash      = 1
                            }
                          }
                        }
                          // Form submit
                        70 = COA
                        70 {
                          wrap (
                <td class="csc-uploads-button">|</td>
)
                            // <input type="submit" value="..." />
                          10 = TEXT
                          10 {
                            value = Ordering
                            lang {
                              de = Bestellen
                            }
                            wrap (
                  <input type="submit" name="submit" value="|" />
)
                          }
                        }
                      }
                    }
                      // Form end
                    30 = TEXT
                    30 {
                      wrap (
              </table>
            </fieldset>
          </form>
)
                    }
                  }
                  linkProc {
                    iconCObject {
                      file {
                        width   = ###TABLE.LINKICON_WIDTH###
                        height  = ###TABLE.LINKICON_HEIGHT###
                      }
                    }
                    tx_browser_pi1 = TEXT
                    tx_browser_pi1 {
                      typolink {
                        parameter         = {$plugin.org.pages.downloads},{$plugin.tx_browser_pi1.typeNum.downloadPageObj}
                        additionalParams  = &tx_browser_pi1[plugin]=###TT_CONTENT.UID###&tx_browser_pi1[file]=single.301.tx_org_downloads.###TX_ORG_DOWNLOADS.UID###.documents.###KEY###
                        useCacheHash      = 1
                        returnLast        = url
                      }
                    }
                  }
                  tableField = tx_org_downloads.documents
                  fields {
                    caption   = ###TABLE.DOCUMENTSCAPTION###
                    from_path = ###TX_ORG_DOWNLOADS.DOCUMENTS_FROM_PATH###
                    files     = ###TABLE.DOCUMENTS###
                    files {
                      override = ###TABLE.THUMBNAIL###
                    }
                    layout    = ###TX_ORG_DOWNLOADS.DOCUMENTSLAYOUT###
                  }
                  stdWrap {
                    if.isTrue = ###TABLE.THUMBNAIL######TABLE.DOCUMENTS######TX_ORG_DOWNLOADS.DOCUMENTS_FROM_PATH###
                  }
                }
              }
              filePath >
              itemRendering >
                // Download link and ordering form
              itemRendering = COA
              itemRendering {
                  // Form begin
                10 = COA
                10 {
                    // <form name="form_add_to_cart" ... method="post">
                  10 = TEXT
                  10 {
                    wrap (
          <form name="form_add_to_cart" id="form-order" class="tx_org_downloads-order" action="|" method="post">
)
                    typolink {
                      parameter     = {$plugin.org.pages.shopping_cart_downloads}
                      returnLast    = url
                      useCacheHash  = 1
                    }
                  }
                    // <fieldset><legend>X</legend><input ... /><input ... /><input ... />
                  20 = TEXT
                  20 {
                    value = Donwload or Ordering
                    lang {
                      de = Herunterladen oder Bestellen
                    }
                    wrap (
            <fieldset id="add-to-cart">
              <legend>|</legend>
              <input type="hidden"  name="id"                     value="{$plugin.org.pages.shopping_cart_downloads}" />
              <input type="hidden"  name="tx_org_downloads[uid]"        value="###TX_ORG_DOWNLOADS.UID###" />
              <input type="hidden"  name="tx_org_downloads[documents]"  value="###TX_ORG_DOWNLOADS.DOCUMENTS###" />
              <input type="hidden"  name="sys_language[flag]"     value="###SYS_LANGUAGE.FLAG###" />
              <input type="hidden"  name="sys_language[title]"    value="###SYS_LANGUAGE.TITLE###" />
)
                  }
                }
                  // <table class="csc-uploads">|</table>
                20 = COA
                20 {
                  wrap (
              <table class="csc-uploads">|</table>
)
                    // Download link
                  10 = COA
                  10 {
                    if {
                      value   = ###TX_ORG_DOWNLOADS.TYPE###
                      equals  = doc_shipping
                      negate  = 1
                    }
                    wrap = <tr class="download">|</tr>
                      // Flag
                    10 = TEXT
                    10 {
                      wrap  = <td class="csc-uploads-flag">|</td>
                      value = <img src="typo3/gfx/flags/###SYS_LANGUAGE.FLAG###.gif" alt="###TX_ORG_DOWNLOADS.DOCUMENTS### (###SYS_LANGUAGE.TITLE###)" title="###TX_ORG_DOWNLOADS.DOCUMENTS### (###SYS_LANGUAGE.TITLE###)"/>
                      typolink {
                        parameter         = {$plugin.org.pages.downloads},{$plugin.tx_browser_pi1.typeNum.downloadPageObj}
                        additionalParams  = &tx_browser_pi1[plugin]=###TT_CONTENT.UID###&tx_browser_pi1[file]=single.301.tx_org_downloads.###TX_ORG_DOWNLOADS.UID###.documents.###KEY###
                        title             = ###TX_ORG_DOWNLOADS.DOCUMENTS### (###SYS_LANGUAGE.TITLE###)
                        useCacheHash      = 1
                      }
                    }
                      // File icon
                    20 = COA
                    20 {
                      10 < tt_content.uploads.20.itemRendering.10
                      10 {
                        if {
                          isPositive.field >
                          isPositive = ###TX_ORG_DOWNLOADS.DOCUMENTSLAYOUT###
                        }
                      }
                    }
                      // File name
                    30 = COA
                    30 {
                      10 < tt_content.uploads.20.itemRendering.20.1
                      10 {
                        if.isTrue = ###TX_ORG_DOWNLOADS.DOCUMENTS_DISPLAY_LABEL###
                        wrap      = <td class="csc-uploads-file-name">|</td>
                        data = register:filename
                        typolink {
                          parameter         = {$plugin.org.pages.downloads},{$plugin.tx_browser_pi1.typeNum.downloadPageObj}
                          additionalParams  = &tx_browser_pi1[plugin]=###TT_CONTENT.UID###&tx_browser_pi1[file]=single.301.tx_org_downloads.###TX_ORG_DOWNLOADS.UID###.documents.###KEY###
                          title             = ###TX_ORG_DOWNLOADS.DOCUMENTS### (###SYS_LANGUAGE.TITLE###)
                          useCacheHash      = 1
                        }
                      }
                    }
                      // File description
                    40 = COA
                    40 {
                      10 < tt_content.uploads.20.itemRendering.20.2
                      10 {
                        if.isTrue = ###TX_ORG_DOWNLOADS.DOCUMENTS_DISPLAY_CAPTION###
                        wrap      = <td class="csc-uploads-file-caption">|</td>
                      }
                    }
                      // Filesize
                    50 = COA
                    50 {
                      10 = COA
                      10 {
                        wrap = <td class="csc-uploads-fileSize">|</td>
                        10 < tt_content.uploads.20.itemRendering.30
                        10 {
                          if >
                          if.isTrue = ###TX_ORG_DOWNLOADS.DOCUMENTSSIZE###
                          wrap >
                          bytes {
                            labels = {$styles.content.uploads.filesizeBytesLabels}
                          }
                          typolink {
                            parameter         = {$plugin.org.pages.downloads},{$plugin.tx_browser_pi1.typeNum.downloadPageObj}
                            additionalParams  = &tx_browser_pi1[plugin]=###TT_CONTENT.UID###&tx_browser_pi1[file]=single.301.tx_org_downloads.###TX_ORG_DOWNLOADS.UID###.documents.###KEY###
                            title             = ###TX_ORG_DOWNLOADS.DOCUMENTS### (###SYS_LANGUAGE.TITLE###)
                            useCacheHash      = 1
                          }
                        }
                      }
                    }
                      // Download icon
                    60 = IMAGE
                    60 {
                      wrap = <td class="csc-uploads-icon">|</td>
                      file = EXT:org/res/download.gif
                      imageLinkWrap = 1
                      imageLinkWrap {
                        enable = 1
                        typolink {
                          parameter         = {$plugin.org.pages.downloads},{$plugin.tx_browser_pi1.typeNum.downloadPageObj}
                          additionalParams  = &tx_browser_pi1[plugin]=###TT_CONTENT.UID###&tx_browser_pi1[file]=single.301.tx_org_downloads.###TX_ORG_DOWNLOADS.UID###.documents.###KEY###
                          title = TEXT
                          title {
                            value = Download ###TX_ORG_DOWNLOADS.DOCUMENTS### (###SYS_LANGUAGE.TITLE###)
                            lang.de = ###TX_ORG_DOWNLOADS.DOCUMENTS### (###SYS_LANGUAGE.TITLE###) herunterladen
                          }
                          useCacheHash      = 1
                        }
                      }
                    }
                      // Download button
                    70 = COA
                    70 {
                      wrap = <td class="csc-uploads-button">|</td>
                        // <button type="button" onclick="location='de/downloads/?type=31230&amp;...'">
                      10 = TEXT
                      10 {
                        prepend = TEXT
                        prepend {
                          value = <button type="button" onclick="location='
                        }
                        typolink {
                          parameter         = {$plugin.org.pages.downloads},{$plugin.tx_browser_pi1.typeNum.downloadPageObj}
                          additionalParams  = &tx_browser_pi1[plugin]=###TT_CONTENT.UID###&tx_browser_pi1[file]=single.301.tx_org_downloads.###TX_ORG_DOWNLOADS.UID###.documents.###KEY###
                          title             = Download ###TX_ORG_DOWNLOADS.DOCUMENTS### (###SYS_LANGUAGE.TITLE###)
                          useCacheHash      = 1
                          returnLast        = url
                        }
                        append = TEXT
                        append {
                          value = '">
                        }
                      }
                        // label</button>
                      20 = TEXT
                      20 {
                        value   = Download
                        lang.de = Herunterladen
                        append = TEXT
                        append {
                          value = </button>
                        }
                      }
                    }
                  }
                    // Form for cart
                  20 = COA
                  20 {
                    if {
                      value   = ###TX_ORG_DOWNLOADS.TYPE###
                      equals  = doc_download
                      negate  = 1
                    }
                    wrap = <tr class="ordering">|</tr>
                      // Flag
                    10 = TEXT
                    10 {
                      wrap  = <td class="csc-uploads-flag">|</td>
                      value = <img src="typo3/gfx/flags/###SYS_LANGUAGE.FLAG###.gif" alt="###TX_ORG_DOWNLOADS.DOCUMENTS### (###SYS_LANGUAGE.TITLE###)" title="###TX_ORG_DOWNLOADS.DOCUMENTS### (###SYS_LANGUAGE.TITLE###)"/>
                      typolink {
                        parameter         = {$plugin.org.pages.downloads},{$plugin.tx_browser_pi1.typeNum.downloadPageObj}
                        additionalParams  = &tx_browser_pi1[plugin]=###TT_CONTENT.UID###&tx_browser_pi1[file]=single.301.tx_org_downloads.###TX_ORG_DOWNLOADS.UID###.documents.###KEY###
                        title             = ###TX_ORG_DOWNLOADS.DOCUMENTS### (###SYS_LANGUAGE.TITLE###)
                        useCacheHash      = 1
                      }
                    }
                      // File icon (empty!)
                    20 = TEXT
                    20 {
                      if {
                        isPositive.field >
                        isPositive = ###TX_ORG_DOWNLOADS.DOCUMENTSLAYOUT###
                      }
                      value = &nbsp;
                      wrap  = <td class="csc-uploads-icon">|</td>
                    }
                      // File name (empty!)
                    30 = COA
                    30 {
                      10 < tt_content.uploads.20.itemRendering.20.1
                      10 {
                        if.isTrue = ###TX_ORG_DOWNLOADS.DOCUMENTS_DISPLAY_LABEL###
                        wrap      = <td class="csc-uploads-file-name">|</td>
                      }
                    }
                      // File description (empty!)
                    40 = COA
                    40 {
                      10 < tt_content.uploads.20.itemRendering.20.2
                      10 {
                        if.isTrue   = ###TX_ORG_DOWNLOADS.DOCUMENTS_DISPLAY_CAPTION###
                        wrap        = <td class="csc-uploads-file-caption">|</td>
                      }
                    }
                      // form input quantity
                    50 = TEXT
                    50 {
                      wrap = <td class="csc-uploads-fileSize">|</td>
                      value = <input type="text" name="quantity" value="1" class="quantity" />
                    }
                      // Cart icon
                    60 = IMAGE
                    60 {
                      wrap = <td class="csc-uploads-icon">|</td>
                      file = EXT:org/res/cart.gif
                      imageLinkWrap = 1
                      imageLinkWrap {
                        enable = 1
                        typolink {
                          parameter         = {$plugin.org.pages.downloads},{$plugin.tx_browser_pi1.typeNum.downloadPageObj}
                          additionalParams  = &tx_browser_pi1[plugin]=###TT_CONTENT.UID###&tx_browser_pi1[file]=single.301.tx_org_downloads.###TX_ORG_DOWNLOADS.UID###.documents.###KEY###
                          title = TEXT
                          title {
                            value = Download ###TX_ORG_DOWNLOADS.DOCUMENTS### (###SYS_LANGUAGE.TITLE###)
                            lang.de = ###TX_ORG_DOWNLOADS.DOCUMENTS### (###SYS_LANGUAGE.TITLE###) herunterladen
                          }
                          useCacheHash      = 1
                        }
                      }
                    }
                      // Form submit
                    70 = COA
                    70 {
                      wrap (
                <td class="csc-uploads-button">|</td>
)
                        // <input type="submit" value="..." />
                      10 = TEXT
                      10 {
                        value = Ordering
                        lang {
                          de = Bestellen
                        }
                        wrap (
                  <input type="submit" name="submit" value="|" />
)
                      }
                    }
                  }
                }
                  // Form end
                30 = TEXT
                30 {
                  wrap (
              </table>
            </fieldset>
          </form>
)
                }
              }
              linkProc {
                iconCObject {
                  file {
                    width   = ###TX_ORG_DOWNLOADS.LINKICON_WIDTH###
                    height  = ###TX_ORG_DOWNLOADS.LINKICON_HEIGHT###
                  }
                }
                tx_browser_pi1 = TEXT
                tx_browser_pi1 {
                  typolink {
                    parameter         = {$plugin.org.pages.downloads},{$plugin.tx_browser_pi1.typeNum.downloadPageObj}
                    additionalParams  = &tx_browser_pi1[plugin]=###TT_CONTENT.UID###&tx_browser_pi1[file]=single.301.tx_org_downloads.###TX_ORG_DOWNLOADS.UID###.documents.###KEY###
                    useCacheHash      = 1
                    returnLast        = url
                  }
                }
              }
              tableField = tx_org_downloads.documents
              fields {
                caption   = ###TX_ORG_DOWNLOADS.DOCUMENTSCAPTION###
                from_path = ###TX_ORG_DOWNLOADS.DOCUMENTS_FROM_PATH###
                files     = ###TX_ORG_DOWNLOADS.DOCUMENTS###
                files {
                  override = ###TX_ORG_DOWNLOADS.THUMBNAIL###
                }
                layout    = ###TX_ORG_DOWNLOADS.DOCUMENTSLAYOUT###
              }
              stdWrap {
                if.isTrue = ###TX_ORG_DOWNLOADS.THUMBNAIL######TX_ORG_DOWNLOADS.DOCUMENTS######TX_ORG_DOWNLOADS.DOCUMENTS_FROM_PATH###
              }
            }
          }
        }
      }
    }
  }
  
  _LOCAL_LANG {
    default {
      list_mode_401_titleTag      = TYPO3 Organiser - Downloads
      list_mode_401_keywords      = TYPO3, Organiser, Downloads
      list_mode_401_summary       = TYPO3 Organiser: Downloads
      single_mode_401_titleTag    = TYPO3 Organiser - ###TX_ORG_DOWNLOADS.TITLE###
      single_mode_401_keywords    = TYPO3 Organiser, ###TX_ORG_DOWNLOADS.KEYWORDS###
      single_mode_401_summary     = TYPO3 Organiser - Downloads: ###TX_ORG_DOWNLOADS.DESCRIPTION###
    }
    de {
      list_mode_401_titleTag      = TYPO3 Organiser - Downloads
      list_mode_401_keywords      = TYPO3, Organiser,  Downloads
      list_mode_401_summary       = TYPO3 Organiser: Downloads
      single_mode_401_titleTag    = TYPO3 Organiser: ###TX_ORG_DOWNLOADS.TITLE###
      single_mode_401_keywords    = TYPO3 Organiser, ###TX_ORG_DOWNLOADS.KEYWORDS###
      single_mode_401_summary     = TYPO3 Organiser - Nachricht: ###TX_ORG_DOWNLOADS.DESCRIPTION###
    }
  }
}


  ////////////////////////////////////////
  //
  // Header Comment

page.config.headerComment (
        TYPO3-Programmierung: die-netzmacher.de
)
  // Header Comment