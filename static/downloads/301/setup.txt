

  ////////////////////////////////////////
  //
  // INDEX

  // plugin.tx_browser_pi1
  //    views
  //      301: +Org: Downloads



  ////////////////////////////////////////
  //
  // plugin.tx_browser_pi1

plugin.tx_browser_pi1 {

  views {
    list {
      301 = +Org: Downloads
      301 {
        name    = +Org: Downloads
        showUid = downloadsUid
        displayList < plugin.tx_browser_pi1.displayList
        displayList {
          selectBox_orderBy.display = 0
        }
        marker < plugin.tx_browser_pi1.marker
        marker {
            // Back button, devider, all downloads button
          my_back_button_line = COA
          my_back_button_line {
            if {
              isTrue {
                data = GPvar:tx_browser_pi1|tx_org_downloadscat.title|0
              }
            }
            wrap = <p class="backbutton">|</p>
              // Back button
            10 = TEXT
            10 {
              value = Back
              lang.de = Zur&uuml;ck
              noTrimWrap  = |<a href="javascript:history.back()">&laquo; |</a>|
            }
              // Devider
            20 = TEXT
            20 {
              value       = |
              noTrimWrap  = | | |
            }
              // All downloads button
            30 = TEXT
            30 {
              value = All Downloads &raquo;
              lang {
                de  = Alle Downloads &raquo;
                en  = All Downloads &raquo;
              }
              typolink {
                parameter = {$plugin.org.pages.downloads}
                title = TEXT
                title {
                  value = All Downloads
                  lang {
                    de  = Alle Downloads
                    en  = All Downloads
                  }
                }
                useCacheHash = 1
              }
            }
          }
        }
        select (
          tx_org_downloads.title,
          tx_org_downloads.subtitle,
          tx_org_downloads.datetime,

          tx_org_downloads.teaser_title,
          tx_org_downloads.teaser_subtitle,
          tx_org_downloads.teaser_short,

          tx_org_downloads.type,

          tx_org_downloads.bodytext,

          tx_org_downloads.documents,
          tx_org_downloads.documents_from_path,
          tx_org_downloads.documentslayout,
          tx_org_downloads.documentscaption,
          tx_org_downloads.documentssize,

          tx_org_downloads.thumbnail,
          tx_org_downloads.thumbnail_width,
          tx_org_downloads.thumbnail_height,

          tx_org_downloads.linkicon_width,
          tx_org_downloads.linkicon_height,

          tx_org_downloads.statistics_downloads_by_visits,

          tx_org_downloads.keywords,
          tx_org_downloads.description
        )
        orderBy (
          tx_org_downloads.title
        )
        csvLinkToSingleView = tx_org_downloads.title
        filter {
          tx_org_downloads {
            datetime < plugin.tx_browser_pi1.displayList.master_templates.selectbox
            datetime {
              first_item {
                cObject {
                  20 {
                    data = LLL:EXT:org/locallang_db.xml:filter_phrase.period
                  }
                }
              }
              wrap = <span class="category_menu">|</span>
              order.field = uid
              area < plugin.tx_browser_pi1.displayList.master_templates.areas.sample_period
              area {
                interval {
                  case = year
                }
              }
            }
          }
          tx_org_downloadscat {
            title < plugin.tx_browser_pi1.displayList.master_templates.selectbox
            title {
              first_item {
                cObject {
                  20 {
                    data = LLL:EXT:org/locallang_db.xml:filter_phrase.doccat
                  }
                }
              }
              wrap = <span class="selectbox">|</span>
              wrap {
                item {
                  cObject {
                    20 {
                      crop = 30 | ... | 1
                    }
                  }
                }
              }
            }
          }
          tx_org_downloadsmedia {
            title < plugin.tx_browser_pi1.displayList.master_templates.selectbox
            title {
              first_item {
                cObject {
                  20 {
                    data = LLL:EXT:org/locallang_db.xml:filter_phrase.docmedia
                  }
                }
              }
              wrap = <span class="selectbox">|</span>
              wrap {
                item {
                  cObject {
                    20 {
                      crop = 30 | ... | 1
                    }
                  }
                }
              }
            }
          }
        }
        tx_org_downloads {
            // thumbnail
          thumbnail < tt_content.uploads.20
          thumbnail {
            userFunc = tx_browser_cssstyledcontent->render_uploads
              // Don't outerWrap with <table> by default
            outerWrap = |
            filePath >
              // #43976, 121213, dwildt, 9-
            //itemRendering {
            //  10 {
            //    if    >
            //    wrap  >
            //  }
            //  20 >
            //  30 >
            //  wrap = <div class="csc-uploads-thumbnail csc-uploads-thumbnail-first">|</div> |*| <div class="csc-uploads-thumbnail csc-uploads-thumbnail-even">|</div> || <div class="csc-uploads-thumbnail">|</div> |*| <div class="csc-uploads-thumbnail csc-uploads-thumbnail-last">|</div>
            //}
              // #43976, 121213, dwildt, 9+
            itemRendering >
            itemRendering = COA
            itemRendering {
              10 = TEXT
              10 {
                data = register:linkedIcon
              }
              wrap = <div class="csc-uploads-thumbnail csc-uploads-thumbnail-first">|</div> |*| <div class="csc-uploads-thumbnail csc-uploads-thumbnail-even">|</div> || <div class="csc-uploads-thumbnail">|</div> |*| <div class="csc-uploads-thumbnail csc-uploads-thumbnail-last">|</div>
            }
            linkProc {
              iconCObject {
                file {
                  width = 80
                }
              }
                // download, download_shipping, shipping
              tx_browser_pi1 = CASE
              tx_browser_pi1 {
                key = ###TX_ORG_DOWNLOADS.TYPE###
                  // download
                default = COA
                default {
                    // Link with preview or application icon
                  10 = IMAGE
                  10 {
                    file {
                      import {
                        data = register : ICON_REL_PATH
                      }
                      width = 80
                    }
                    imageLinkWrap = 1
                    imageLinkWrap {
                      enable = 1
                      typolink {
                        parameter = {$plugin.org.pages.downloads}
                        title = TEXT
                        title {
                          value = Download: '###TX_ORG_DOWNLOADS.TITLE###'
                          lang {
                            de  = Herunterladen: '###TX_ORG_DOWNLOADS.TITLE###'
                            en  = Download: '###TX_ORG_DOWNLOADS.TITLE###'
                          }
                        }
                        additionalParams  = &tx_browser_pi1[downloadsUid]=###TX_ORG_DOWNLOADS.UID###
                        useCacheHash      = 1
                      }
                    }
                  }
                    // Link devider
                  20 = TEXT
                  20 {
                    value = //**//
                  }
                    // Link with label
                  30 = TEXT
                  30 {
                    data = register : filename
                    typolink {
                      parameter = {$plugin.org.pages.downloads}
                      title = TEXT
                      title {
                        value = Download: '###TX_ORG_DOWNLOADS.TITLE###'
                        lang {
                          de  = Herunterladen: '###TX_ORG_DOWNLOADS.TITLE###'
                          en  = Download: '###TX_ORG_DOWNLOADS.TITLE###'
                        }
                      }
                      additionalParams  = &tx_browser_pi1[downloadsUid]=###TX_ORG_DOWNLOADS.UID###
                      useCacheHash      = 1
                    }
                  }
                }
                download_shipping < .default
                download_shipping {
                  10 {
                    imageLinkWrap {
                      typolink {
                        title {
                          value = Order or download: '###TX_ORG_DOWNLOADS.TITLE###'
                          lang {
                            de  = Herunterladen oder Bestellen: '###TX_ORG_DOWNLOADS.TITLE###'
                            en  = Order or download: '###TX_ORG_DOWNLOADS.TITLE###'
                          }
                        }
                      }
                    }
                  }
                  30 {
                    typolink {
                      title {
                        value = Order or download: '###TX_ORG_DOWNLOADS.TITLE###'
                        lang {
                          de  = Herunterladen oder Bestellen: '###TX_ORG_DOWNLOADS.TITLE###'
                          en  = Order or download: '###TX_ORG_DOWNLOADS.TITLE###'
                        }
                      }
                    }
                  }
                }
                shipping < .default
                shipping {
                  10 {
                    imageLinkWrap {
                      typolink {
                        title {
                          value = Order '###TX_ORG_DOWNLOADS.TITLE###'
                          lang {
                            de  = '###TX_ORG_DOWNLOADS.TITLE###' bestellen
                            en  = Order '###TX_ORG_DOWNLOADS.TITLE###'
                          }
                        }
                      }
                    }
                  }
                  30 {
                    typolink {
                      title {
                        value = Order '###TX_ORG_DOWNLOADS.TITLE###'
                        lang {
                          de  = '###TX_ORG_DOWNLOADS.TITLE###' bestellen
                          en  = Order '###TX_ORG_DOWNLOADS.TITLE###'
                        }
                      }
                    }
                  }
                }
              }
            }
            tableField = tx_org_downloads.documents
            fields {
              from_path = ###TX_ORG_DOWNLOADS.DOCUMENTS_FROM_PATH###
              files     = ###TX_ORG_DOWNLOADS.DOCUMENTS###
              files {
                override = ###TX_ORG_DOWNLOADS.THUMBNAIL###
              }
              layout    = 2
            }
            stdWrap {
              if.isTrue = ###TX_ORG_DOWNLOADS.THUMBNAIL######TX_ORG_DOWNLOADS.DOCUMENTS######TX_ORG_DOWNLOADS.DOCUMENTS_FROM_PATH###
            }
          }
            // teaser_title or title
          title = COA
          title {
              // If tx_org_downloads.teaser_title is true
            10 = TEXT
            10 {
              if.isTrue = ###TX_ORG_DOWNLOADS.TEASER_TITLE###
              value     = ###TX_ORG_DOWNLOADS.TEASER_TITLE###
              typolink {
                parameter         = {$plugin.org.pages.downloads} - linktosingle
                additionalParams  = &tx_browser_pi1[downloadsUid]=###TX_ORG_DOWNLOADS.UID###
                useCacheHash      = 1
              }
            }
              // If tx_org_downloads.teaser_title is false
            11 = TEXT
            11 {
              if.isFalse  = ###TX_ORG_DOWNLOADS.TEASER_TITLE###
              value       = ###TX_ORG_DOWNLOADS.TITLE###
              typolink {
                parameter         = {$plugin.org.pages.downloads} - linktosingle
                additionalParams  = &tx_browser_pi1[downloadsUid]=###TX_ORG_DOWNLOADS.UID###
                useCacheHash      = 1
              }
            }
          }
            // teaser_subtitle or subtitle
          subtitle = COA
          subtitle {
              // teaser_subtitle
            10 = TEXT
            10 {
              if.isTrue = ###TX_ORG_DOWNLOADS.TEASER_SUBTITLE###
              value     = ###TX_ORG_DOWNLOADS.TEASER_SUBTITLE###
            }
              // subtitle
            11 = TEXT
            11 {
              if.isFalse  = ###TX_ORG_DOWNLOADS.TEASER_SUBTITLE###
              value       = ###TX_ORG_DOWNLOADS.SUBTITLE###
            }
          }
            // datetime, teaser_short or bodytext, button
          teaser_short = COA
          teaser_short {
              // datetime
            10 = TEXT
            10 {
              value       = ###TX_ORG_DOWNLOADS.DATETIME###
              strftime    = %d. %b %Y
              noTrimWrap  = |<span class="datetime">| &ndash;</span> |
            }
              // teaser_short
            11 = TEXT
            11 {
              if {
                isTrue = ###TX_ORG_DOWNLOADS.TEASER_SHORT###
              }
              value       = ###TX_ORG_DOWNLOADS.TEASER_SHORT###
              noTrimWrap = || |
            }
              // bodytext
            12 = TEXT
            12 {
              if {
                isFalse = ###TX_ORG_DOWNLOADS.TEASER_SHORT###
              }
              value       = ###TX_ORG_DOWNLOADS.BODYTEXT###
              crop        = 200 | ... | 1
              stripHtml   = 1
              noTrimWrap = || |
            }
              // statistics download, button: download, download_shipping, shipping
            13 = CASE
            13 {
              key = ###TX_ORG_DOWNLOADS.TYPE###
                // download
              default = COA
              default {
                  // <span class="more">...</span>
                wrap = <span class="more">|</span>
                  // Download statistics
                10 = COA
                10 {
                    // <span class="statistics-downloads">...</span>
                  wrap = <span class="statistics-downloads">|</span>
                    // If it is 1 download
                  10 = TEXT
                  10 {
                    if {
                      value  = ###TX_ORG_DOWNLOADS.STATISTICS_DOWNLOADS_BY_VISITS###
                      equals = 1
                    }
                    value = download
                    lang {
                      de = Download
                      en = download
                    }
                    noTrimWrap = | ###TX_ORG_DOWNLOADS.STATISTICS_DOWNLOADS_BY_VISITS### | |
                  }
                    // If it is 0 downloads or more than 1 downloads
                  20 = TEXT
                  20 {
                    if {
                      value  = ###TX_ORG_DOWNLOADS.STATISTICS_DOWNLOADS_BY_VISITS###
                      equals = 1
                      negate = 1
                    }
                    value = downloads
                    lang {
                      de = Downloads
                      en = downloads
                    }
                    noTrimWrap = | ###TX_ORG_DOWNLOADS.STATISTICS_DOWNLOADS_BY_VISITS### | |
                  }
                }
                  // Download icon
                20 = IMAGE
                20 {
                  file = EXT:org/res/download.gif
                  imageLinkWrap = 1
                  imageLinkWrap {
                    enable = 1
                    typolink {
                      parameter         = {$plugin.org.pages.downloads} - linktosingle
                      title = TEXT
                      title {
                        value = Download: '###TX_ORG_DOWNLOADS.TITLE###'
                        lang {
                          de  = Herunterladen: '###TX_ORG_DOWNLOADS.TITLE###'
                          en  = Download: '###TX_ORG_DOWNLOADS.TITLE###'
                        }
                      }
                      additionalParams  = &tx_browser_pi1[downloadsUid]=###TX_ORG_DOWNLOADS.UID###
                      useCacheHash      = 1
                    }
                  }
                }
                  // Download label
                40 = TEXT
                40 {
                  value = Download &raquo;
                  lang {
                    de  = Herunterladen &raquo;
                    en  = Download &raquo;
                  }
                  value = Proceed &raquo;
                  lang {
                    de  = Weiter &raquo;
                    en  = Proceed &raquo;
                  }
                  typolink {
                    parameter         = {$plugin.org.pages.downloads} - linktosingle
                    additionalParams  = &tx_browser_pi1[downloadsUid]=###TX_ORG_DOWNLOADS.UID###
                    useCacheHash      = 1
                    title             = TEXT
                    title {
                      value = Download: '###TX_ORG_DOWNLOADS.TITLE###'
                      lang {
                        de  = Herunterladen: '###TX_ORG_DOWNLOADS.TITLE###'
                        en  = Download: '###TX_ORG_DOWNLOADS.TITLE###'
                      }
                    }
                  }
                }
              }
              download_shipping < .default
              download_shipping {
                  // Cart icon
                30 = IMAGE
                30 {
                  file = EXT:org/res/cart.gif
                  imageLinkWrap = 1
                  imageLinkWrap {
                    enable = 1
                    typolink {
                      parameter         = {$plugin.org.pages.downloads} - linktosingle
                      additionalParams  = &tx_browser_pi1[downloadsUid]=###TX_ORG_DOWNLOADS.UID###
                      useCacheHash      = 1
                      title = TEXT
                      title {
                        value = Order: '###TX_ORG_DOWNLOADS.TITLE###'
                        lang {
                          de  = Bestellen: '###TX_ORG_DOWNLOADS.TITLE###'
                          en  = Order: '###TX_ORG_DOWNLOADS.TITLE###'
                        }
                      }
                    }
                  }
                }
                40 {
                  xxx_value = Order or download &raquo;
                  xxx_lang {
                    de  = Herunterladen oder Bestellen &raquo;
                    en  = Order or download &raquo;
                  }
                  typolink {
                    title {
                      value = Order or download: '###TX_ORG_DOWNLOADS.TITLE###'
                      lang {
                        de  = Herunterladen oder Bestellen: '###TX_ORG_DOWNLOADS.TITLE###'
                        en  = Order or download: '###TX_ORG_DOWNLOADS.TITLE###'
                      }
                    }
                  }
                }
              }
              shipping < .download_shipping
              shipping {
                10 >
                20 >
                40 {
                  xxx_value = Order &raquo;
                  xxx_lang {
                    de  = Bestellen &raquo;
                    en  = Order &raquo;
                  }
                  typolink {
                    title {
                      value = Order: '###TX_ORG_DOWNLOADS.TITLE###'
                      lang {
                        de  = Bestellen: '###TX_ORG_DOWNLOADS.TITLE###'
                        en  = Order: '###TX_ORG_DOWNLOADS.TITLE###'
                      }
                    }
                  }
                }
              }
            }
          }
        }
          // marker and subparts will replaced in the HTML template before data handling
          // #43627, 121205, dwildt
        htmlSnippets =
        htmlSnippets {
          marker {
            filter = TEXT
            filter {
              value (
                <div class="filter">
                  ###TX_ORG_DOWNLOADSCAT.TITLE###
                  ###TX_ORG_DOWNLOADSMEDIA.TITLE###
                  ###TX_ORG_DOWNLOADS.DATETIME###
                </div>
)
            }
          }
          subparts {
            listview = TEXT
            listview {
              value (
            <div id="c###TT_CONTENT.UID###-listview-###MODE###" class="###VIEW###view ###VIEW###view-content ###VIEW###view-###MODE### ###VIEW###view-content-###MODE###">
              <!-- ###LISTBODY### begin --><!-- ###LISTBODYITEM### begin -->
                <div class="record01">
                <div class="image01">
                  ###TX_ORG_DOWNLOADS.THUMBNAIL###
                </div>
                <div class="sbmFloatRight">
                  ###SOCIALMEDIA_BOOKMARKS###
                </div>
                <h3>
                  ###TX_ORG_DOWNLOADS.SUBTITLE###
                </h3>
                <h2>
                    ###TX_ORG_DOWNLOADS.TITLE###
                </h2>
                <p>
                  ###TX_ORG_DOWNLOADS.TEASER_SHORT###
                </p>
              </div>
              <div class="cleaner">&nbsp;</div><!-- ###LISTBODYITEM### end --><!-- ###LISTBODY### end -->
              </div> <!-- /listview -->
)
            }
          }
        }
      }
    }
    single {
      301 = +Org: Downloads
      301 {
        marker < plugin.tx_browser_pi1.marker
        marker {
          my_listview_page = TEXT
          my_listview_page {
            value = All Downloads &raquo;
            lang {
              de  = Alle Downloads &raquo;
              en  = All Downloads &raquo;
            }
            typolink {
              parameter = {$plugin.org.pages.downloads}
              title = TEXT
              title {
                value = All Downloads
                lang {
                  de  = Alle Downloads
                  en  = All Downloads
                }
              }
              useCacheHash = 1
            }
          }
          my_singleview_title = TEXT
          my_singleview_title {
            value   = Download
            lang {
              de  = Download
              en  = Download
            }
            wrap    = <div class="header01">|</div>
          }
        }
        select (
          tx_org_downloads.title,
          tx_org_downloads.type,
          tx_org_downloads.subtitle,
          tx_org_downloads.datetime,
          tx_org_downloads.bodytext,

          tx_org_downloads.documents,
          tx_org_downloads.documentscaption,
          tx_org_downloads.documents_from_path,
          tx_org_downloads.documents_display_label,
          tx_org_downloads.documents_display_caption,
          tx_org_downloads.documentslayout,
          tx_org_downloads.documentssize,

          tx_org_downloads.tx_flipit_fancybox,
          tx_org_downloads.tx_flipit_layout,
          tx_org_downloads.tx_flipit_swf_files,
          tx_org_downloads.tx_flipit_updateswfxml,
          tx_org_downloads.tx_flipit_xml_file,
          tx_org_downloads.tstamp,

          tx_org_downloads.thumbnail,
          tx_org_downloads.thumbnail_width,
          tx_org_downloads.thumbnail_height,

          tx_org_downloads.linkicon_width,
          tx_org_downloads.linkicon_height,

          tx_org_downloads.statistics_downloads_by_visits,

          tx_org_downloads.keywords,
          tx_org_downloads.description,

          tx_org_downloadscat.title,
          tx_org_downloadsmedia.title
        )
        tx_org_downloads {
            // subtitle, title, thumbnail, datetime, bodytext, filelink
          title = COA
          title {
              // subtitle
            10 = TEXT
            10 {
              required  = 1
              value     = ###TX_ORG_DOWNLOADS.SUBTITLE###
              wrap      = <h2 class="doc_subtitle">|</h2>
            }
              // title
            20 = TEXT
            20 {
              required  = 1
              value     = ###TX_ORG_DOWNLOADS.TITLE###
              wrap      = <h1 class="doc_title csc-firstHeader">|</h1>
            }
              // thumbnail
            30 < tt_content.uploads.20
            30 {
              userFunc = tx_browser_cssstyledcontent->render_uploads
              userFunc {
                  // add the value of a field to another field in cObj->data
                cObjDataFieldWrapper =
                cObjDataFieldWrapper {
//tx_org_downloads.documents_display_label,
//tx_org_downloads.documents_display_caption,
                    // Adds the value from tx_org_downloads.documentssize to filelink_size
                  filelink_size = tx_org_downloads.documentssize
                    // Adds the value from tx_org_downloads.documentscaption to imagecaption
                  imagecaption = tx_org_downloads.documentscaption
                    // Adds the value from tx_org_downloads.documentslayout to layout
                  layout = tx_org_downloads.documentslayout
                    // Adds the value from tx_org_downloads.documents to media
                  media = tx_org_downloads.documents
                    // Adds the value from tx_org_downloads.tx_flipit_layout to tx_flipit_layout
                  tx_flipit_layout = tx_org_downloads.tx_flipit_layout
                }
              }
                // Don't outerWrap with <table> by default
//                // 130207, dwildt, 1+
//              field = tx_org_downloads.documents
              outerWrap = |
                // 130207, dwildt, 1-
              filePath >
                // #43976, 121213, dwildt, 9-
              //itemRendering {
              //  10 {
              //    if    >
              //    wrap  >
              //  }
              //  20 >
              //  30 >
              //  wrap = <div class="csc-uploads-thumbnail csc-uploads-thumbnail-first">|</div> |*| <div class="csc-uploads-thumbnail csc-uploads-thumbnail-even">|</div> || <div class="csc-uploads-thumbnail">|</div> |*| <div class="csc-uploads-thumbnail csc-uploads-thumbnail-last">|</div>
              //}
                // #43976, 121213, dwildt, 9+
              itemRendering >
              itemRendering = COA
              itemRendering {
                10 = TEXT
                10 {
                  data = register:linkedIcon
                }
                wrap = <div class="csc-uploads-thumbnail csc-uploads-thumbnail-first">|</div> |*| <div class="csc-uploads-thumbnail csc-uploads-thumbnail-even">|</div> || <div class="csc-uploads-thumbnail">|</div> |*| <div class="csc-uploads-thumbnail csc-uploads-thumbnail-last">|</div>
              }
              linkProc {
                iconCObject {
                  file {
                    width = 240m
                    width {
                      field >
                      override = ###TX_ORG_DOWNLOADS.THUMBNAIL_WIDTH###
                    }
                    height = 400m
                    height {
                      override = ###TX_ORG_DOWNLOADS.THUMBNAIL_HEIGHT###
                    }
                  }
                }
                  // download, download_shipping, shipping
                tx_browser_pi1 = CASE
                tx_browser_pi1 {
                  key = ###TX_ORG_DOWNLOADS.TYPE###
                  default = COA
                  default {
                      // Link with preview or application icon
                    10 = IMAGE
                    10 {
                      file {
                        import {
                          data = register : ICON_REL_PATH
                        }
                        width = 240m
                        width {
                          field >
                          override = ###TX_ORG_DOWNLOADS.THUMBNAIL_WIDTH###
                        }
                        height = 400m
                        height {
                          override = ###TX_ORG_DOWNLOADS.THUMBNAIL_HEIGHT###
                        }
                      }
                      imageLinkWrap = 1
                      imageLinkWrap {
                        enable = 1
                        typolink {
                          parameter         = {$plugin.org.pages.downloads},{$plugin.tx_browser_pi1.typeNum.downloadPageObj}
                          title = TEXT
                          title {
                            value = Download: '###TX_ORG_DOWNLOADS.TITLE###'
                            lang {
                              de  = Herunterladen: '###TX_ORG_DOWNLOADS.TITLE###'
                              en  = Download: '###TX_ORG_DOWNLOADS.TITLE###'
                            }
                          }
                          additionalParams  = &tx_browser_pi1[plugin]=###TT_CONTENT.UID###&tx_browser_pi1[file]=single.301.tx_org_downloads.###TX_ORG_DOWNLOADS.UID###.documents.###KEY###
                          useCacheHash      = 1
                        }
                      }
                    }
                      // Link devider
                    20 = TEXT
                    20 {
                      value = //**//
                    }
                      // Link with label
                    30 = TEXT
                    30 {
                      data = register : filename
                      typolink {
                        parameter         = {$plugin.org.pages.downloads},{$plugin.tx_browser_pi1.typeNum.downloadPageObj}
                        title = TEXT
                        title {
                          value = Download: '###TX_ORG_DOWNLOADS.TITLE###'
                          lang {
                            de  = Herunterladen: '###TX_ORG_DOWNLOADS.TITLE###'
                            en  = Download: '###TX_ORG_DOWNLOADS.TITLE###'
                          }
                        }
                        additionalParams  = &tx_browser_pi1[plugin]=###TT_CONTENT.UID###&tx_browser_pi1[file]=single.301.tx_org_downloads.###TX_ORG_DOWNLOADS.UID###.documents.###KEY###
                        useCacheHash      = 1
                      }
                    }
                  }
                  download_shipping < .default
                  download_shipping {
                    10 {
                      imageLinkWrap {
                        typolink {
                          title {
                            value = Order or download: '###TX_ORG_DOWNLOADS.TITLE###'
                            lang {
                              de  = Herunterladen oder Bestellen: '###TX_ORG_DOWNLOADS.TITLE###'
                              en  = Order or download: '###TX_ORG_DOWNLOADS.TITLE###'
                            }
                          }
                        }
                      }
                    }
                    30 {
                      typolink {
                        title {
                          value = Order or download: '###TX_ORG_DOWNLOADS.TITLE###'
                          lang {
                            de  = Herunterladen oder Bestellen: '###TX_ORG_DOWNLOADS.TITLE###'
                            en  = Order or download: '###TX_ORG_DOWNLOADS.TITLE###'
                          }
                        }
                      }
                    }
                  }
                  shipping < .default
                  shipping {
                    10 {
                      imageLinkWrap {
                        bodyTag   = <BODY style="margin:0;padding0;">
                        wrap      = <A href="javascript:close();"> | </A>
                        width     = 800m
                        height    = 600
                        title     = ###TX_ORG_DOWNLOADS.TITLE###
                        JSwindow = 1
                        JSwindow {
                          newWindow = 1
                        }
                        typolink >
                      }
                    }
                    30 {
                      typolink >
                    }
                  }
                }
              }
                // 130207, dwildt, 1-
//              tableField = tx_org_downloads.documents
                // 130207, dwildt, -8
//              fields {
//                from_path = ###TX_ORG_DOWNLOADS.DOCUMENTS_FROM_PATH###
//                files     = ###TX_ORG_DOWNLOADS.DOCUMENTS###
//                files {
//                  override = ###TX_ORG_DOWNLOADS.THUMBNAIL###
//                }
//                layout    = 2
//              }
              stdWrap {
                if.isTrue = ###TX_ORG_DOWNLOADS.THUMBNAIL######TX_ORG_DOWNLOADS.DOCUMENTS######TX_ORG_DOWNLOADS.DOCUMENTS_FROM_PATH###
              }
            }
              // datetime, bodytext
            40 = COA
            40 {
              stdWrap.parseFunc < lib.parseFunc_RTE
                // datetime
              10 = TEXT
              10 {
                value       = ###TX_ORG_DOWNLOADS.DATETIME###
                strftime    = %d. %b. %Y
                noTrimWrap  = |<span class="datetime">| &ndash;</span> |
              }
                // bodytext
              20 = TEXT
              20 {
                value = ###TX_ORG_DOWNLOADS.BODYTEXT###
              }
                // Download statistics (if tx_org_downloads.type isn't shipping)
              30 = COA
              30 {
                if {
                  value   = ###TX_ORG_DOWNLOADS.TYPE###
                  equals  = shipping
                  negate  = 1
                }
                  // <span class="statistics-downloads">...</span>
                wrap = <br /><br /><span class="statistics-downloads">|</span>
                  // If it is 1 download
                10 = TEXT
                10 {
                  if {
                    value  = ###TX_ORG_DOWNLOADS.STATISTICS_DOWNLOADS_BY_VISITS###
                    equals = 1
                  }
                  value = download
                  lang {
                    de = Download
                    en = download
                  }
                  noTrimWrap = | ###TX_ORG_DOWNLOADS.STATISTICS_DOWNLOADS_BY_VISITS### | |
                }
                  // If it is 0 downloads or more than 1 downloads
                20 = TEXT
                20 {
                  if {
                    value  = ###TX_ORG_DOWNLOADS.STATISTICS_DOWNLOADS_BY_VISITS###
                    equals = 1
                    negate = 1
                  }
                  value = downloads
                  lang {
                    de = Downloads
                    en = downloads
                  }
                  noTrimWrap = | ###TX_ORG_DOWNLOADS.STATISTICS_DOWNLOADS_BY_VISITS### | |
                }
              }
            }
              // File link and order form
            50 < tt_content.uploads.20
            50 {
              userFunc = tx_browser_cssstyledcontent->render_uploads
              userFunc {
                  // Should this TypoScript executed for each language record?
                renderCurrentLanguageOnly = TEXT
                renderCurrentLanguageOnly {
                    // [Boolean] 1 (default), 0: render each existing language record
                  value = 1
                }
                  // Current table
                table = TEXT
                table {
                    // [STRING] Current table. I.e: tx_org_downloads
                  value = tx_org_downloads
                }
                  // Fields (fields which needed localised only)
                select = TEXT
                select {
                    // [String] select fields of the local table only! Fields are needed with localisation only
                  value (
                    uid,
                    documents,
                    documentscaption,
                    thumbnail,
                    linkicon_width,
                    linkicon_height
                  )
                }
                  // Current record
                record = TEXT
                record {
                    // [INTEGER] uid of the current record. I.e: ###TX_ORG_DOWNLOADS.UID###
                  value = ###TX_ORG_DOWNLOADS.UID###
                }
                  // conf: Should be a modified copy of the parent configuration
                conf < tt_content.uploads.20
                conf =
                conf {
                  userFunc >
                    // Don't outerWrap with <table> by default
                  outerWrap = |
                  filePath >
                  itemRendering >
                    // Download link and ordering form
                  itemRendering = COA
                  itemRendering {
                      // Form begin
                    10 = COA
                    10 {
                        // <form name="form_add_to_cart" ... method="post">
                      10 = TEXT
                      10 {
                        wrap (
          <form name="form_add_to_cart" id="form-order" class="tx_org_downloads-order" action="|" method="post">
)
                        typolink {
                          parameter     = {$plugin.org.pages.shopping_cart_downloads}
                          returnLast    = url
                          useCacheHash  = 1
                        }
                      }
                        // <fieldset><legend>X</legend><input ... /><input ... /><input ... />
                      20 = TEXT
                      20 {
                        value = Donwload or Ordering
                        lang {
                          de = Herunterladen oder Bestellen
                        }
                        wrap (
            <fieldset id="add-to-cart">
              <legend>|</legend>
              <input type="hidden"  name="id"                     value="{$plugin.org.pages.shopping_cart_downloads}" />
              <input type="hidden"  name="tx_org_downloads[uid]"        value="###TABLE.UID###" />
              <input type="hidden"  name="tx_org_downloads[documents]"  value="###TABLE.DOCUMENTS###" />
              <input type="hidden"  name="sys_language[flag]"     value="###SYS_LANGUAGE.FLAG###" />
              <input type="hidden"  name="sys_language[title]"    value="###SYS_LANGUAGE.TITLE###" />
)
                      }
                    }
                      // <table class="csc-uploads">|</table>
                    20 = COA
                    20 {
                      wrap (
              <table class="csc-uploads">|</table>
)
                        // <tr> ... Donwload link line ... </tr>
                      10 = COA
                      10 {
                        if {
                          value   = ###TX_ORG_DOWNLOADS.TYPE###
                          equals  = shipping
                          negate  = 1
                        }
                        wrap = <tr class="download">|</tr>
                          // Flag
                        10 = TEXT
                        10 {
                          wrap  = <td class="csc-uploads-flag">|</td>
                          value = <img src="typo3/gfx/flags/###SYS_LANGUAGE.FLAG###.gif" alt="###TABLE.DOCUMENTS### (###SYS_LANGUAGE.TITLE###)" title="###TABLE.DOCUMENTS### (###SYS_LANGUAGE.TITLE###)"/>
                        }
                          // File preview or application icon
                        20 = COA
                        20 {
                          10 < tt_content.uploads.20.itemRendering.10
                          10 {
                            if {
                              isPositive.field >
                              isPositive = ###TX_ORG_DOWNLOADS.DOCUMENTSLAYOUT###
                            }
                          }
                        }
                          // File name
                        30 = COA
                        30 {
                          10 < tt_content.uploads.20.itemRendering.20.1
                          10 {
                            if.isTrue = ###TX_ORG_DOWNLOADS.DOCUMENTS_DISPLAY_LABEL###
                            wrap      = <td class="csc-uploads-file-name">|</td>
                            data = register:filename
                          }
                        }
                          // File description
                        40 = COA
                        40 {
                          10 < tt_content.uploads.20.itemRendering.20.2
                          10 {
                            if.isTrue = ###TX_ORG_DOWNLOADS.DOCUMENTS_DISPLAY_CAPTION###
                            wrap      = <td class="csc-uploads-file-caption">|</td>
                          }
                        }
                          // Filesize
                        50 = COA
                        50 {
                          10 = COA
                          10 {
                            wrap = <td class="csc-uploads-fileSize">|</td>
                            10 < tt_content.uploads.20.itemRendering.30
                            10 {
                              if >
                              if.isTrue = ###TX_ORG_DOWNLOADS.DOCUMENTSSIZE###
                              wrap >
                              bytes {
                                labels = {$styles.content.uploads.filesizeBytesLabels}
                              }
                            }
                          }
                        }
                          // Download button (download icon)
                        60 = COA
                        60 {
                            // <td class="csc-uploads-button"><div class="iconbutton">...</div></td>
                          wrap = <td class="csc-uploads-button"><div class="iconbutton">|</div></td>
                            // <a href="X" class="ui-button-text" ...
                          10 = TEXT
                          10 {
                            typolink {
                              parameter         = {$plugin.org.pages.downloads},{$plugin.tx_browser_pi1.typeNum.downloadPageObj}
                              additionalParams  = &tx_browser_pi1[plugin]=###TT_CONTENT.UID###&tx_browser_pi1[file]=single.301.tx_org_downloads.###TABLE.UID###.documents.###KEY###
                              useCacheHash      = 1
                              returnLast        = url
                            }
                            wrap    = <a href="|" class="ui-button-text"
                          }
                            // ... title="X">
                          20 = TEXT
                          20 {
                            value = Download ###TABLE.DOCUMENTS### (###SYS_LANGUAGE.TITLE###)
                            lang {
                              de  = ###TABLE.DOCUMENTS### (###SYS_LANGUAGE.TITLE###) herunterladen
                              en  = Download ###TABLE.DOCUMENTS### (###SYS_LANGUAGE.TITLE###)
                            }
                            noTrimWrap  = | title="|">|
                          }
                            // <img ... />
                          30 = IMAGE
                          30 {
                            file    = EXT:org/res/download.gif
                          }
                            // ... label</a>
                          40 = TEXT
                          40 {
                            value = Download
                            lang {
                              de  = Herunterladen
                              en  = Download
                            }
                            noTrimWrap  = | |</a>|
                          }
                        }
                      }
                        // <tr> ... Ordering link line ... </tr>
                      20 = COA
                      20 {
                        if {
                          value   = ###TX_ORG_DOWNLOADS.TYPE###
                          equals  = download
                          negate  = 1
                        }
                        wrap = <tr class="ordering">|</tr>
                          // Flag
                        10 = TEXT
                        10 {
                          wrap  = <td class="csc-uploads-flag">|</td>
                          value = <img src="typo3/gfx/flags/###SYS_LANGUAGE.FLAG###.gif" alt="###TABLE.DOCUMENTS### (###SYS_LANGUAGE.TITLE###)" title="###TABLE.DOCUMENTS### (###SYS_LANGUAGE.TITLE###)"/>
                        }
                          // File preview or application icon (empty!)
                        20 = TEXT
                        20 {
                          if {
                            isPositive.field >
                            isPositive = ###TX_ORG_DOWNLOADS.DOCUMENTSLAYOUT###
                          }
                          value = &nbsp;
                          wrap  = <td class="csc-uploads-icon">|</td>
                        }
                          // File name
                        30 = COA
                        30 {
                          10 < tt_content.uploads.20.itemRendering.20.1
                          10 {
                            if.isTrue = ###TX_ORG_DOWNLOADS.DOCUMENTS_DISPLAY_LABEL###
                            wrap      = <td class="csc-uploads-file-name">|</td>
                            data = register:filename
                          }
                        }
                          // File description
                        40 = COA
                        40 {
                          10 < tt_content.uploads.20.itemRendering.20.2
                          10 {
                            if.isTrue   = ###TX_ORG_DOWNLOADS.DOCUMENTS_DISPLAY_CAPTION###
                            wrap        = <td class="csc-uploads-file-caption">|</td>
                          }
                        }
                          // form input quantity
                        50 = TEXT
                        50 {
                          wrap = <td class="csc-uploads-fileSize">|</td>
                          value = <input type="text" name="quantity" value="1" class="quantity" />
                        }
                          // Form submit (cart icon)
                        60 = COA
                        60 {
                            // <td class="csc-uploads-button"><button type="submit" name="submit" value="X">
                          10 = TEXT
                          10 {
                            value = Ordering
                            lang {
                              de  = Bestellen
                              en  = Ordering
                            }
                            wrap    = <td class="csc-uploads-button"><button type="submit" name="submit" value="|">
                          }
                            // <img ... />
                          20 = IMAGE
                          20 {
                            file    = EXT:org/res/cart.gif
                          }
                            // label</button></td>
                          30 = TEXT
                          30 {
                            value = Ordering
                            lang {
                              de  = Bestellen
                              en  = Ordering
                            }
                            noTrimWrap  = | |</button></td>|
                          }
                        }
                      }
                    }
                      // Form end
                    30 = TEXT
                    30 {
                      wrap (
              </table>
            </fieldset>
          </form>
)
                    }
                  }
                  linkProc {
                    iconCObject {
                      file {
                        width = 240m
                        width {
                          field >
                          override = ###TABLE.LINKICON_WIDTH###
                        }
                        height = 400m
                        height {
                          override = ###TABLE.LINKICON_HEIGHT###
                        }
                      }
                    }
                    tx_browser_pi1 = COA
                    tx_browser_pi1 {
                        // Link with preview or application icon
                      10 = IMAGE
                      10 {
                        file {
                          import {
                            data = register : ICON_REL_PATH_FROM_LINCPROC
                          }
                        }
                        imageLinkWrap = 1
                        imageLinkWrap {
                          enable = 1
                          typolink {
                            parameter         = {$plugin.org.pages.downloads},{$plugin.tx_browser_pi1.typeNum.downloadPageObj}
                            additionalParams  = &tx_browser_pi1[plugin]=###TT_CONTENT.UID###&tx_browser_pi1[file]=single.301.tx_org_downloads.###TABLE.UID###.documents.###KEY###
                            useCacheHash      = 1
                            title             = TEXT
                            title {
                              value = Download ###TABLE.DOCUMENTS### (###SYS_LANGUAGE.TITLE###)
                              lang {
                                de  = ###TABLE.DOCUMENTS### (###SYS_LANGUAGE.TITLE###) herunterladen
                                en  = Download ###TABLE.DOCUMENTS### (###SYS_LANGUAGE.TITLE###)
                              }
                            }
                          }
                        }
                      }
                        // Link devider
                      20 = TEXT
                      20 {
                        value = //**//
                      }
                        // Link with label
                      30 = TEXT
                      30 {
                        data = register : filename
                        typolink {
                          parameter         = {$plugin.org.pages.downloads},{$plugin.tx_browser_pi1.typeNum.downloadPageObj}
                          additionalParams  = &tx_browser_pi1[plugin]=###TT_CONTENT.UID###&tx_browser_pi1[file]=single.301.tx_org_downloads.###TABLE.UID###.documents.###KEY###
                          useCacheHash      = 1
                          title = TEXT
                          title {
                            value = Download ###TABLE.DOCUMENTS### (###SYS_LANGUAGE.TITLE###)
                            lang {
                              de  = ###TABLE.DOCUMENTS### (###SYS_LANGUAGE.TITLE###) herunterladen
                              en  = Download ###TABLE.DOCUMENTS### (###SYS_LANGUAGE.TITLE###)
                            }
                          }
                        }
                      }
                    }

                  }
                  tableField = tx_org_downloads.documents
                  fields {
                    caption   = ###TABLE.DOCUMENTSCAPTION###
                    from_path = ###TX_ORG_DOWNLOADS.DOCUMENTS_FROM_PATH###
                      // #34988, 120318, dwildt, 1-
                    //files     = ###TABLE.DOCUMENTS###
                    // Bugfix, 120117, dwildt: icon and size should referr to document not to thumbnail
                    //files {
                    //  override = ###TX_ORG_DOWNLOADS.THUMBNAIL###
                    //}
                      // #34988, 120318, dwildt, 4+
                    files     = ###TX_ORG_DOWNLOADS.THUMBNAIL###
                    files {
                      override = ###TX_ORG_DOWNLOADS.DOCUMENTS###
                    }
                      // #34988, 120318, dwildt, 4+
                    layout    = ###TX_ORG_DOWNLOADS.DOCUMENTSLAYOUT###
                  }
                  stdWrap {
                    if.isTrue = ###TABLE.THUMBNAIL######TABLE.DOCUMENTS######TX_ORG_DOWNLOADS.DOCUMENTS_FROM_PATH###
                  }
                }
              }
                // Don't outerWrap with <table> by default
              outerWrap = |
              filePath >
              itemRendering >
                // Download link and ordering form
              itemRendering = COA
              itemRendering {
                  // Form begin
                10 = COA
                10 {
                    // <form name="form_add_to_cart" ... method="post">
                  10 = TEXT
                  10 {
                    wrap (
          <form name="form_add_to_cart" id="form-order" class="tx_org_downloads-order" action="|" method="post">
)
                    typolink {
                      parameter     = {$plugin.org.pages.shopping_cart_downloads}
                      returnLast    = url
                      useCacheHash  = 1
                    }
                  }
                    // <fieldset><legend>X</legend><input ... /><input ... /><input ... />
                  20 = TEXT
                  20 {
                    value = Donwload or Ordering
                    lang {
                      de = Herunterladen oder Bestellen
                    }
                    wrap (
            <fieldset id="add-to-cart">
              <legend>|</legend>
              <input type="hidden"  name="id"                     value="{$plugin.org.pages.shopping_cart_downloads}" />
              <input type="hidden"  name="tx_org_downloads[uid]"        value="###TX_ORG_DOWNLOADS.UID###" />
              <input type="hidden"  name="tx_org_downloads[documents]"  value="###TX_ORG_DOWNLOADS.DOCUMENTS###" />
              <input type="hidden"  name="sys_language[flag]"     value="###SYS_LANGUAGE.FLAG###" />
              <input type="hidden"  name="sys_language[title]"    value="###SYS_LANGUAGE.TITLE###" />
)
                  }
                }
                  // <table class="csc-uploads">|</table>
                20 = COA
                20 {
                  wrap (
              <table class="csc-uploads">|</table>
)
                    // <tr> ... Download link line ... </tr>
                  10 = COA
                  10 {
                    if {
                      value   = ###TX_ORG_DOWNLOADS.TYPE###
                      equals  = shipping
                      negate  = 1
                    }
                    wrap = <tr class="download">|</tr>
                      // Flag
                    10 = TEXT
                    10 {
                      wrap  = <td class="csc-uploads-flag">|</td>
                      value = <img src="typo3/gfx/flags/###SYS_LANGUAGE.FLAG###.gif" alt="###TX_ORG_DOWNLOADS.DOCUMENTS### (###SYS_LANGUAGE.TITLE###)" title="###TX_ORG_DOWNLOADS.DOCUMENTS### (###SYS_LANGUAGE.TITLE###)"/>
                    }
                    10 >
                      // File preview or application icon
                    20 = COA
                    20 {
                      10 < tt_content.uploads.20.itemRendering.10
                      10 {
                        if {
                          isPositive.field >
                          isPositive = ###TX_ORG_DOWNLOADS.DOCUMENTSLAYOUT###
                        }
                      }
                    }
                      // File name
                    30 = COA
                    30 {
                      10 < tt_content.uploads.20.itemRendering.20.1
                      10 {
                        if.isTrue = ###TX_ORG_DOWNLOADS.DOCUMENTS_DISPLAY_LABEL###
                        wrap      = <td class="csc-uploads-file-name">|</td>
                        data = register:filename
                      }
                    }
                      // File description
                    40 = COA
                    40 {
                      10 < tt_content.uploads.20.itemRendering.20.2
                      10 {
                        if.isTrue = ###TX_ORG_DOWNLOADS.DOCUMENTS_DISPLAY_CAPTION###
                        wrap      = <td class="csc-uploads-file-caption">|</td>
                      }
                    }
                      // Filesize
                    50 = COA
                    50 {
                      10 = COA
                      10 {
                        wrap = <td class="csc-uploads-fileSize">|</td>
                        10 < tt_content.uploads.20.itemRendering.30
                        10 {
                          if >
                          if.isTrue = ###TX_ORG_DOWNLOADS.DOCUMENTSSIZE###
                          wrap >
                          bytes {
                            labels = {$styles.content.uploads.filesizeBytesLabels}
                          }
                        }
                      }
                    }
                      // Download button (download icon)
                    60 = COA
                    60 {
                        // <td class="csc-uploads-button"><div class="iconbutton">...</div></td>
                      wrap = <td class="csc-uploads-button"><div class="iconbutton">|</div></td>
                        // <a href="X" class="ui-button-text" ...
                      10 = TEXT
                      10 {
                        typolink {
                          parameter         = {$plugin.org.pages.downloads},{$plugin.tx_browser_pi1.typeNum.downloadPageObj}
                          additionalParams  = &tx_browser_pi1[plugin]=###TT_CONTENT.UID###&tx_browser_pi1[file]=single.301.tx_org_downloads.###TX_ORG_DOWNLOADS.UID###.documents.###KEY###
                          useCacheHash      = 1
                          returnLast        = url
                        }
                        wrap    = <a href="|" class="ui-button-text"
                      }
                        // ... title="X">
                      20 = TEXT
                      20 {
                        value = Download ###TX_ORG_DOWNLOADS.DOCUMENTS### (###SYS_LANGUAGE.TITLE###)
                        lang {
                          de  = ###TX_ORG_DOWNLOADS.DOCUMENTS### (###SYS_LANGUAGE.TITLE###) herunterladen
                          en  = Download ###TX_ORG_DOWNLOADS.DOCUMENTS### (###SYS_LANGUAGE.TITLE###)
                        }
                        noTrimWrap  = | title="|">|
                      }
                        // <img ... />
                      30 = IMAGE
                      30 {
                        file    = EXT:org/res/download.gif
                      }
                        // ... label</a>
                      40 = TEXT
                      40 {
                        value       = Download
                        lang {
                          de  = Herunterladen
                          en  = Download
                        }
                        noTrimWrap  = | |</a>|
                      }
                    }
                  }
                    // <tr> ... Ordering link line ... </tr>
                  20 = COA
                  20 {
                    if {
                      value   = ###TX_ORG_DOWNLOADS.TYPE###
                      equals  = download
                      negate  = 1
                    }
                    wrap = <tr class="ordering">|</tr>
                      // Flag
                    10 = TEXT
                    10 {
                      wrap  = <td class="csc-uploads-flag">|</td>
                      value = <img src="typo3/gfx/flags/###SYS_LANGUAGE.FLAG###.gif" alt="###TX_ORG_DOWNLOADS.DOCUMENTS### (###SYS_LANGUAGE.TITLE###)" title="###TX_ORG_DOWNLOADS.DOCUMENTS### (###SYS_LANGUAGE.TITLE###)"/>
                    }
                    10 >
                      // File preview or application icon (empty!)
                    20 = TEXT
                    20 {
                      if {
                        isPositive.field >
                        isPositive = ###TX_ORG_DOWNLOADS.DOCUMENTSLAYOUT###
                      }
                      value = &nbsp;
                      wrap  = <td class="csc-uploads-icon">|</td>
                    }
                      // File name
                    30 = COA
                    30 {
                      10 < tt_content.uploads.20.itemRendering.20.1
                      10 {
                        if.isTrue = ###TX_ORG_DOWNLOADS.DOCUMENTS_DISPLAY_LABEL###
                        wrap      = <td class="csc-uploads-file-name">|</td>
                      }
                    }
                      // File description
                    40 = COA
                    40 {
                      10 < tt_content.uploads.20.itemRendering.20.2
                      10 {
                        if.isTrue   = ###TX_ORG_DOWNLOADS.DOCUMENTS_DISPLAY_CAPTION###
                        wrap        = <td class="csc-uploads-file-caption">|</td>
                      }
                    }
                      // form input quantity
                    50 = TEXT
                    50 {
                      wrap = <td class="csc-uploads-fileSize">|</td>
                      value = <input type="text" name="quantity" value="1" class="quantity" />
                    }
                      // Form submit (cart icon)
                    60 = COA
                    60 {
                        // <td class="csc-uploads-button"><button type="submit" name="submit" value="X">
                      10 = TEXT
                      10 {
                        value = Ordering
                        lang {
                          de  = Bestellen
                          en  = Ordering
                        }
                        wrap    = <td class="csc-uploads-button"><button type="submit" name="submit" value="|">
                      }
                        // <img ... />
                      20 = IMAGE
                      20 {
                        file    = EXT:org/res/cart.gif
                      }
                        // label</button></td>
                      30 = TEXT
                      30 {
                        value = Ordering
                        lang {
                          de  = Bestellen
                          en  = Ordering
                        }
                        noTrimWrap  = | |</button></td>|
                      }
                    }
                  }
                }
                  // Form end
                30 = TEXT
                30 {
                  wrap (
              </table>
            </fieldset>
          </form>
)
                }
              }
              linkProc {
                iconCObject {
                  file {
                    width = 240m
                    width {
                      field >
                      override = ###TX_ORG_DOWNLOADS.LINKICON_WIDTH###
                    }
                    height = 400m
                    height {
                      override = ###TX_ORG_DOWNLOADS.LINKICON_HEIGHT###
                    }
                  }
                }
                tx_browser_pi1 = COA
                tx_browser_pi1 {
                    // Link with preview or application icon
                  10 = IMAGE
                  10 {
                    file {
                      import {
                        data = register : ICON_REL_PATH_FROM_LINCPROC
                      }
                    }
                    imageLinkWrap = 1
                    imageLinkWrap {
                      enable = 1
                      typolink {
                        parameter         = {$plugin.org.pages.downloads},{$plugin.tx_browser_pi1.typeNum.downloadPageObj}
                        additionalParams  = &tx_browser_pi1[plugin]=###TT_CONTENT.UID###&tx_browser_pi1[file]=single.301.tx_org_downloads.###TX_ORG_DOWNLOADS.UID###.documents.###KEY###
                        useCacheHash      = 1
                        title             = TEXT
                        title {
                          value = Download: '###TX_ORG_DOWNLOADS.TITLE###'
                          lang {
                            de  = Herunterladen: '###TX_ORG_DOWNLOADS.TITLE###'
                            en  = Download: '###TX_ORG_DOWNLOADS.TITLE###'
                          }
                        }
                      }
                    }
                  }
                    // Link devider
                  20 = TEXT
                  20 {
                    value = //**//
                  }
                    // Link with label
                  30 = TEXT
                  30 {
                    data = register : filename
                    typolink {
                      parameter         = {$plugin.org.pages.downloads},{$plugin.tx_browser_pi1.typeNum.downloadPageObj}
                      additionalParams  = &tx_browser_pi1[plugin]=###TT_CONTENT.UID###&tx_browser_pi1[file]=single.301.tx_org_downloads.###TX_ORG_DOWNLOADS.UID###.documents.###KEY###
                      useCacheHash      = 1
                      title             = TEXT
                      title {
                        value = Download: '###TX_ORG_DOWNLOADS.TITLE###'
                        lang {
                          de  = Herunterladen: '###TX_ORG_DOWNLOADS.TITLE###'
                          en  = Download: '###TX_ORG_DOWNLOADS.TITLE###'
                        }
                      }
                    }
                  }
                }
              }
              tableField = tx_org_downloads.documents
              fields {
                caption   = ###TX_ORG_DOWNLOADS.DOCUMENTSCAPTION###
                from_path = ###TX_ORG_DOWNLOADS.DOCUMENTS_FROM_PATH###
                  // #34988, 120318, dwildt, 1-
                //files     = ###TX_ORG_DOWNLOADS.DOCUMENTS###
                // Bugfix, 120117, dwildt: icon and size should referr to document not to thumbnail
                //files {
                //  override = ###TX_ORG_DOWNLOADS.THUMBNAIL###
                //}
                  // #34988, 120318, dwildt, 4+
                files     = ###TX_ORG_DOWNLOADS.THUMBNAIL###
                files {
                  override = ###TX_ORG_DOWNLOADS.DOCUMENTS###
                }
                  // #34988, 120318, dwildt, 4+
                layout    = ###TX_ORG_DOWNLOADS.DOCUMENTSLAYOUT###
              }
              stdWrap {
                if.isTrue = ###TX_ORG_DOWNLOADS.THUMBNAIL######TX_ORG_DOWNLOADS.DOCUMENTS######TX_ORG_DOWNLOADS.DOCUMENTS_FROM_PATH###
              }
            }
          }
        }
          // marker and subparts will replaced in the HTML template before data handling
          // #43627, 121205, dwildt
        htmlSnippets =
        htmlSnippets {
          subparts {
            singleview = TEXT
            singleview {
              value (
<!-- ###AREA_FOR_AJAX_LIST_01### begin -->
        <div id="c###TT_CONTENT.UID###-singleview-###MODE###" class="singleview singleview-###MODE###">
          ###RECORD_BROWSER###
          <div class="ui-widget ui-corner-all">
            <div class="ui-widget-content ui-corner-all">
              <!-- ###SINGLEBODY### begin --><!-- ###SINGLEBODYROW### begin -->
              <div class="socialbookmarks">
                ###SOCIALMEDIA_BOOKMARKS###
              </div>
              ###TX_ORG_DOWNLOADS.TITLE###
              <!-- ###SINGLEBODYROW### end --><!-- ###SINGLEBODY### end -->
            </div>
<!-- ###AREA_FOR_AJAX_LIST_01### end -->
            <!-- ###BACKBUTTON### begin -->
            <p class="backbutton">
              ###BUTTON###
            </p>
          <!-- ###BACKBUTTON### end -->
<!-- ###AREA_FOR_AJAX_LIST_02### begin -->
          </div>
        </div>
<!-- ###AREA_FOR_AJAX_LIST_02### end -->
)
            }
          }
        }
      }
    }
  }

  _LOCAL_LANG {
    default {
      list_mode_301             = Downloads
      list_mode_301_titleTag    = TYPO3 Organiser - Downloads
      list_mode_301_keywords    = TYPO3, Organiser, Downloads
      list_mode_301_summary     = TYPO3 Organiser: Downloads
      single_mode_301_titleTag  = TYPO3 Organiser - ###TX_ORG_DOWNLOADS.TITLE###
      single_mode_301_keywords  = TYPO3 Organiser, ###TX_ORG_DOWNLOADS.KEYWORDS###
      single_mode_301_summary   = TYPO3 Organiser - Download: ###TX_ORG_DOWNLOADS.DESCRIPTION###
    }
    de {
      list_mode_301             = Downloads
      list_mode_301_keywords    = TYPO3, Organiser,  Downloads
      list_mode_301_summary     = TYPO3 Organiser: Downloads
      single_mode_301_titleTag  = TYPO3 Organiser: ###TX_ORG_DOWNLOADS.TITLE###
      single_mode_301_keywords  = TYPO3 Organiser, ###TX_ORG_DOWNLOADS.KEYWORDS###
      single_mode_301_summary   = TYPO3 Organiser - Download: ###TX_ORG_DOWNLOADS.DESCRIPTION###
    }
  }
}


  ////////////////////////////////////////
  //
  // Header Comment

page.config.headerComment (
        TYPO3-Programmierung: die-netzmacher.de
)
  // Header Comment
